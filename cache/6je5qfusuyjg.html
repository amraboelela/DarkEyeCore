<!DOCTYPE html>
<html lang="was" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>fuss:sh [Wizardry and Steamworks]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="fuss,sh"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/opensearch.php" title="Wizardry and Steamworks"/>
<link rel="start" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/"/>
<link rel="contents" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh?do=index" title="Sitemap"/>
<link rel="manifest" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Changes" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/feed.php?mode=list&amp;ns=fuss"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_export/xhtml/fuss/sh"/>
<link rel="canonical" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"/>
<link rel="stylesheet" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/css.php?t=was&amp;tseed=24551d22639bdaeb736aec3dca86fd82"/>
<!--[if gte IE 9]><!-->
<script >/*<![CDATA[*/var NS='fuss';var JSINFO = {"plugin_imagemap_mldummy":"http:\/\/3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion\/_media\/wiki\/dokuwiki-128.png","isadmin":0,"isauth":0,"plugin_pdfjs":{"hide_download_button":0},"plugins":{"vshare":{"youtube":"youtube\\.com\/.*[&?]v=([a-z0-9_\\-]+)","vimeo":"vimeo\\.com\\\/(\\d+)","slideshare":"slideshare.*id=(\\d+)","dailymotion":"dailymotion\\.com\/video\/([a-z0-9]+)","archiveorg":"archive\\.org\/(?:embed|details)\/([a-zA-Z0-9_\\-]+)","soundcloud":"soundcloud\\.com\/([\\w-]+\/[\\w-]+)","niconico":"nicovideo\\.jp\/watch\/(sm[0-9]+)","bitchute":"bitchute\\.com\\\/video\\\/([a-zA-Z0-9_\\-]+)","coub":"coub\\.com\\\/view\\\/([a-zA-Z0-9_\\-]+)","odysee":"odysee\\.com\/\\$\/(?:embed|download)\/([-%_?=\/a-zA-Z0-9]+)","youku":"v\\.youku\\.com\/v_show\/id_([0-9A-Za-z=]+)\\.html","bilibili":"bilibili\\.com\\\/video\\\/(BV[0-9A-Za-z]+)","msoffice":"(?:office\\.com.*[&?]videoid=([a-z0-9\\-]+))","msstream":"microsoftstream\\.com\\\/video\\\/([a-f0-9\\-]{36})"}},"id":"fuss:sh","namespace":"fuss","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script charset="utf-8" src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/jquery.php?tseed=34a552433bc33cc9c3bc32527289a0b2"></script>
<script charset="utf-8" src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/js.php?t=was&amp;tseed=24551d22639bdaeb736aec3dca86fd82&amp;template=was"></script>
<!--<![endif]-->
    <!-- <link rel="shortcut icon" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/favicon.ico" />
<link rel="apple-touch-icon" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/apple-touch-icon.png" />
 -->
    <!-- Viewport -->
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!-- Favicon -->
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png?v=2">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png?v=2">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png?v=2">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png?v=2">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png?v=2">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png?v=2">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png?v=2">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png?v=2">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png?v=2">
<link rel="icon" type="image/png" href="/favicon-32x32.png?v=2" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png?v=2" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png?v=2" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png?v=2" sizes="16x16">
<link rel="manifest" href="/manifest.json?v=2">
<link rel="shortcut icon" href="/favicon.ico?v=2">
<meta name="apple-mobile-web-app-title" content="[Wizardry and Steamworks]">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png?v=2">
<meta name="application-name" content="[Wizardry and Steamworks]">
<meta name="theme-color" content="#ffffff">
    <!-- <script async type="text/javascript" src="/lib/tpl/was/loadCSS.js"></script>
    <script async type="text/javascript" src="/lib/tpl/was/cssrelpreload.js"></script> -->
</head>

<body>
    <!--[if lte IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_was     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header">

	    
	<!-- ********** TOP BAR ********** -->
	<div class="bar" id="bar__top">
		<div class="bar-left" id="bar__topleft">
			<form class="button btn_login" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="" /><button type="submit" title="Log In">Log In</button></div></form>						<form class="button btn_revs" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"><div class="no"><input type="hidden" name="do" value="revisions" /><button type="submit" accesskey="o" title="Revisions [O]">Revisions</button></div></form>						<form class="button btn_pdf" action="?do=export_pdf" method="POST">
			    <button type="submit" title="PDF">PDF</button>
                        </form>
		</div>
		<div class="bar-center">
		        <form class="button btn_home" action="/" method="POST">
                            <button type="submit" title="Home">Home</button>
                        </form>
			<form action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="fuss:sh" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			<!-- <form id="osssearchform" method="get" action="renderer">
        <input type="hidden" name="use" value="grimore.org">
        <input type="hidden" name="name" value="default">
        <input type="text" id="osssearchbox" name="query">
        <input type="hidden" name="login" value="search">
        <input type="hidden" name="key" value="1a5f74ab3f4df6ce883c4c158540e25e">
        <input type="submit" value="Search">
</form>
 -->
		</div>
		<div class="bar-right" id="bar__topright">
		        <form class="button btn_contact" action="mailto:%6F%66%66%69%63%65%40%67%72%69%6D%6F%72%65%2E%6F%72%67" method="POST">
			    <button type="submit" title="Contact">Contact</button>
                        </form>
                        <form class="button btn_news" action="/feed.php?type=rss2&amp;ns=fuss:sh&amp;linkto=page&amp;content=abstract" method="POST">
			    <button type="submit" title="News">News</button>
                        </form>
			<form class="button btn_admin" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"><div class="no"><input type="hidden" name="do" value="admin" /><button type="submit" title="Admin">Admin</button></div></form>								</div>
			</div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" class="wikilink1" title="start" data-wiki-id="start">start</a></bdi></span> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss" class="wikilink1" title="fuss" data-wiki-id="fuss">fuss</a></bdi> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh" class="wikilink1" title="fuss:sh" data-wiki-id="fuss:sh">sh</a></bdi></div>
                                </div>
    
    <hr class="a11y" />
</div><!-- /header -->

        <div class="wrapper group">

            <!--  -->

            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <!-- <div class="pageId"><span>fuss:sh</span></div> -->

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#about">About</a></div></li>
<li class="level1"><div class="li"><a href="#copyright">Copyright</a></div></li>
<li class="level1"><div class="li"><a href="#grab_pid_of_running_process">Grab PID of Running Process</a></div></li>
<li class="level1"><div class="li"><a href="#perform_reverse_lookups_of_ip_addresses_in_apache_access_logs">Perform Reverse Lookups of IP Addresses in Apache Access Logs</a></div></li>
<li class="level1"><div class="li"><a href="#suppress_command_output">Suppress Command Output</a></div></li>
<li class="level1"><div class="li"><a href="#logarithm_base-2_for_values_per_line">Logarithm Base-2 For Values Per Line</a></div></li>
<li class="level1"><div class="li"><a href="#reverse_lines_in_a_file">Reverse Lines in a File</a></div></li>
<li class="level1"><div class="li"><a href="#sort_by_first_column">Sort By First Column</a></div></li>
<li class="level1"><div class="li"><a href="#lowercase-_uppercase_uppercase-_lowercase">Lowercase-&gt;Uppercase, Uppercase-&gt;Lowercase</a></div></li>
<li class="level1"><div class="li"><a href="#unrar_files_recursively">Unrar Files Recursively</a></div></li>
<li class="level1"><div class="li"><a href="#timestamp">Timestamp</a></div></li>
<li class="level1"><div class="li"><a href="#yesno_script">Yes/No Script</a></div></li>
<li class="level1"><div class="li"><a href="#lock">Lock</a></div></li>
<li class="level1"><div class="li"><a href="#loop_over_command_line_arguments">Loop Over Command Line Arguments</a></div></li>
<li class="level1"><div class="li"><a href="#concatenate_strings">Concatenate Strings</a></div></li>
<li class="level1"><div class="li"><a href="#sleep_sort">Sleep Sort</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#notes">Notes</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#shell_history">Shell History</a></div></li>
<li class="level1"><div class="li"><a href="#pipe_visualiser">Pipe Visualiser</a></div></li>
<li class="level1"><div class="li"><a href="#length_of_string">Length of String</a></div></li>
<li class="level1"><div class="li"><a href="#convert_shellcode_to_opcode">Convert Shellcode to OpCode</a></div></li>
<li class="level1"><div class="li"><a href="#purge_shell_history">Purge Shell History</a></div></li>
<li class="level1"><div class="li"><a href="#change_all_files_in_a_directory_to_lowercase">Change all Files in a Directory to Lowercase</a></div></li>
<li class="level1"><div class="li"><a href="#sort_file_by_line_length">Sort File by Line Length</a></div></li>
<li class="level1"><div class="li"><a href="#delete_a_list_of_files">Delete a List of Files</a></div></li>
<li class="level1"><div class="li"><a href="#show_a_tree_view_of_folders_subfolders_and_files">Show a Tree View of Folders, Subfolders and Files</a></div></li>
<li class="level1"><div class="li"><a href="#find_executables">Find Executables</a></div></li>
<li class="level1"><div class="li"><a href="#delete_files_using_find">Delete Files using Find</a></div></li>
<li class="level1"><div class="li"><a href="#reverse_lines_in_a_file1">Reverse Lines in a File</a></div></li>
<li class="level1"><div class="li"><a href="#run_shell_script_with_modified_priority">Run Shell Script with Modified Priority</a></div></li>
<li class="level1"><div class="li"><a href="#extract_files_recursively">Extract Files Recursively</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#while_creating_folders">While Creating Folders</a></div></li>
<li class="level2"><div class="li"><a href="#for_zip">For ZIP</a></div></li>
<li class="level2"><div class="li"><a href="#for_rar">For RAR</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#replace_string_in_files">Replace String in Files</a></div></li>
<li class="level1"><div class="li"><a href="#transfer_a_directory_between_servers">Transfer a Directory between Servers</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#using_tape_archives">Using Tape Archives</a></div></li>
<li class="level2"><div class="li"><a href="#using_sockets">Using Sockets</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#delete_duplicate_lines_in_a_file_while_preserving_the_order">Delete Duplicate Lines in a File while Preserving the Order</a></div></li>
<li class="level1"><div class="li"><a href="#rename_files_recursively_changing_case">Rename Files Recursively Changing Case</a></div></li>
<li class="level1"><div class="li"><a href="#merge_files_line-by-line">Merge Files Line-by-Line</a></div></li>
<li class="level1"><div class="li"><a href="#prepend_and_append_text_to_a_file">Prepend and Append Text to a File</a></div></li>
<li class="level1"><div class="li"><a href="#wait_for_file_to_stop_changing">Wait for File to Stop Changing</a></div></li>
<li class="level1"><div class="li"><a href="#repeat_a_sequence">Repeat a Sequence</a></div></li>
<li class="level1"><div class="li"><a href="#stopwatch">Stopwatch</a></div></li>
<li class="level1"><div class="li"><a href="#delete_files_that_do_not_match_an_extension">Delete Files that Do Not Match an Extension</a></div></li>
<li class="level1"><div class="li"><a href="#get_top_ram_and_cpu_consuming_processes">Get Top RAM and CPU Consuming Processes</a></div></li>
<li class="level1"><div class="li"><a href="#copy_a_file_to_multiple_directories">Copy a File to Multiple Directories</a></div></li>
<li class="level1"><div class="li"><a href="#goto_and_exception_handling_in_shell_scripts">Goto and Exception Handling in Shell Scripts</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#examples">Examples</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#remove_files_in_or_not_in_a_list">Remove Files In or Not in a List</a></div></li>
<li class="level1"><div class="li"><a href="#generate_random_string_for_passwords_or_otherwise">Generate Random String (for Passwords, or Otherwise)</a></div></li>
<li class="level1"><div class="li"><a href="#detach_background_and_re-attach_a_process">Detach, Background and Re-Attach a Process</a></div></li>
<li class="level1"><div class="li"><a href="#scramble_a_string">Scramble a String</a></div></li>
<li class="level1"><div class="li"><a href="#generate_random_numbers_in_range_using_awk">Generate Random Numbers in Range using awk</a></div></li>
<li class="level1"><div class="li"><a href="#find_plaintext_files">Find Plaintext Files</a></div></li>
<li class="level1"><div class="li"><a href="#ensure_newline_at_end_of_file">Ensure Newline at End of File</a></div></li>
<li class="level1"><div class="li"><a href="#execute_script_as_a_different_user">Execute Script as a Different User</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="about">About</h1>
<div class="level1">

<p>
<img src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_media/wizardale.png" class="medialeft" title=" Oh no, not this shit again! " alt=" Oh no, not this shit again! " /> Do not let yourself be fooled, a shell is like any other interpreter-based language, such as <code>perl</code>. The only real difference is that a shell is interactive while interpreters usually execute scripts, one-time. Thus, as with any programming language, constructs may seem similar yet the syntax may greatly differ - in which case some of the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss" class="wikilink1" title="fuss" data-wiki-id="fuss">fuss</a> provided on this page will work on some shells but not on others.
</p>

<p>
For example, Linux distributions are moving away from <code>bash</code> as the default shell, towards <code>dash</code> which is leaning towards <code>POSIX</code> compatibility. Apparently, <code>bash</code> does cover <code>dash</code> features but <code>dash</code> has some of its own <code>dash</code>-centric features, such that Linux now starts to depend on <code>dash</code> instead of <code>bash</code>.
</p>

<p>
Furthermore, every Linux distribution also packs its own set of tools, just like commands in a programming language, such that the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss" class="wikilink1" title="fuss" data-wiki-id="fuss">fuss</a> listed here may work on some systems, but not on others.
</p>

<p>
Learning or preferring one shell over the other, given that they are all feature-packed (or, conversely, feature-less), becomes a matter of religious dispute - just like choosing a Linux distribution, which gradually tends to void any sense of pragmatism and becomes difficult to categorize.
</p>

<p>
Lastly, some rudimentary commands, such as <code>ps</code> (used for retrieving the process table) use differing syntax, for different set of features and spanning across different versions.
</p>

</div>

<h1 class="sectionedit2" id="copyright">Copyright</h1>
<div class="level1">
<pre class="code bash"><span class="co0">###########################################################################</span>
<span class="co0">##  Copyright (C) Wizardry and Steamworks 2021 - License: GNU GPLv3      ##</span>
<span class="co0">##  Please see: http://www.gnu.org/licenses/gpl.html for legal details,  ##</span>
<span class="co0">##  rights of fair usage, the disclaimer and warranty conditions.        ##</span>
<span class="co0">###########################################################################</span></pre>

</div>

<h1 class="sectionedit3" id="grab_pid_of_running_process">Grab PID of Running Process</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">ps</span> ax <span class="sy0">|</span> <span class="kw2">grep</span> <span class="st_h">'[a]fpd'</span> <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{print $1}'</span></pre>

<p>
would grab the PID of a process named afpd.
</p>

</div>

<h1 class="sectionedit4" id="perform_reverse_lookups_of_ip_addresses_in_apache_access_logs">Perform Reverse Lookups of IP Addresses in Apache Access Logs</h1>
<div class="level1">

<p>
Provided you are in the same directory as the <code>access_log</code> file:
</p>
<pre class="code bash"><span class="kw1">for</span> i <span class="kw1">in</span> <span class="sy0">`</span><span class="kw2">cat</span> access_log <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span><span class="sy0">`</span>; <span class="kw1">do</span> 
  <span class="kw2">dig</span> <span class="re5">-x</span> <span class="re1">$i</span> +noall +short +answer; 
<span class="kw1">done</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-v</span> <span class="st_h">'googlebot\|cloudshare'</span></pre>

<p>
which prints all hostnames that that IPs resolve to except the hostnames matching <code>googlebot</code> and <code>cloudshare</code>.
</p>
<pre class="code bash"><span class="kw1">for</span> i <span class="kw1">in</span> <span class="sy0">`</span><span class="kw2">cat</span> access_log <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print $1 }'</span><span class="sy0">`</span>; <span class="kw1">do</span> 
  <span class="kw2">dig</span> <span class="re5">-x</span> <span class="re1">$i</span> +noall +short +answer; 
<span class="kw1">done</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="st_h">'\.edu\|\.mil\|\.gov'</span></pre>

<p>
looks for the funny guys (will match <code>.milkshake</code> TLDs as well).
</p>

</div>

<h1 class="sectionedit5" id="suppress_command_output">Suppress Command Output</h1>
<div class="level1">

<p>
In cases where the <code>/dev/null</code> device is unavailable, pipe <code>stderr</code> and <code>stdout</code> together to the command <code>true</code>:
</p>
<pre class="code bash"><span class="kw2">ps</span> ax <span class="nu0">2</span><span class="sy0">&amp;&gt;</span><span class="nu0">1</span> <span class="sy0">|</span> <span class="kw2">true</span></pre>

<p>
will suppress the output of <code>ps ax</code>
</p>

</div>

<h1 class="sectionedit6" id="logarithm_base-2_for_values_per_line">Logarithm Base-2 For Values Per Line</h1>
<div class="level1">

<p>
Supposing that <code>data.txt</code> contains a value on every line:
</p>
<pre class="code bash"><span class="kw2">cat</span> data.txt <span class="sy0">|</span> <span class="kw1">while</span> <span class="kw3">read</span> i; <span class="kw1">do</span> <span class="kw2">perl</span> <span class="re5">-e</span> <span class="st0">&quot;print log(<span class="es2">$i</span>)/log(2)&quot;</span> <span class="sy0">&amp;&amp;</span> <span class="kw3">echo</span> <span class="re5">-en</span> <span class="st0">&quot;<span class="es1">\n</span>&quot;</span>; <span class="kw1">done</span></pre>

</div>

<h1 class="sectionedit7" id="reverse_lines_in_a_file">Reverse Lines in a File</h1>
<div class="level1">

<p>
Surprisingly easy:
</p>
<pre class="code bash"><span class="kw2">cat</span> file.txt <span class="sy0">|</span> <span class="kw2">tail</span> <span class="re5">-r</span></pre>

</div>

<h1 class="sectionedit8" id="sort_by_first_column">Sort By First Column</h1>
<div class="level1">

<p>
Supposing that <code>combined_data.txt</code> contains lines such as:
</p>
<pre class="code">10 blah
10000 blah blah</pre>

<p>
the following will sort the above example in descending order by the first column:
</p>
<pre class="code bash"><span class="kw2">cat</span> combined_data.txt <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-s</span> <span class="re5">-n</span> <span class="re5">-r</span></pre>

<p>
The result is:
</p>
<pre class="code">10000 blah blah
10 blah</pre>

</div>

<h1 class="sectionedit9" id="lowercase-_uppercase_uppercase-_lowercase">Lowercase-&gt;Uppercase, Uppercase-&gt;Lowercase</h1>
<div class="level1">

<p>
Input:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="st0">&quot;hello world&quot;</span> <span class="sy0">|</span> <span class="kw2">tr</span> <span class="br0">&#91;</span>:lower:<span class="br0">&#93;</span> <span class="br0">&#91;</span>:upper:<span class="br0">&#93;</span></pre>

<p>
Output:
</p>
<pre class="code">HELLO WORLD</pre>

</div>

<h1 class="sectionedit10" id="unrar_files_recursively">Unrar Files Recursively</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-name</span> <span class="st0">&quot;*.rar&quot;</span> <span class="re5">-exec</span> unrar x <span class="re5">-ad</span> <span class="st_h">'{}'</span> \;</pre>

<p>
The <code>ad</code> switch creates a folder named after the <code>rar</code> file. For example, the files in <code>My Arhive.rar</code> will create a folder <code>My Archive/</code> and place the files there.
</p>

</div>

<h1 class="sectionedit11" id="timestamp">Timestamp</h1>
<div class="level1">

<p>
A good time-stamp is, in order:
</p>
<ol>
<li class="level1"><div class="li"> year</div>
</li>
<li class="level1"><div class="li"> month</div>
</li>
<li class="level1"><div class="li"> day</div>
</li>
<li class="level1"><div class="li"> hour</div>
</li>
<li class="level1"><div class="li"> minutes</div>
</li>
<li class="level1"><div class="li"> seconds</div>
</li>
</ol>

<p>
because when it is used with files, the stamp takes precedence in chronological order. One can generate this timestamp with:
</p>
<pre class="code bash"><span class="kw2">date</span> +<span class="sy0">%</span>Y<span class="sy0">%</span>m<span class="sy0">%</span>d<span class="sy0">%</span>H<span class="sy0">%</span>M <span class="sy0">|</span> <span class="kw2">tr</span> <span class="st_h">'\n'</span> <span class="st_h">' '</span></pre>

<p>
where <code>tr</code> is used to delete the newline produced by <code>date</code> and add a space.
</p>

</div>

<h1 class="sectionedit12" id="yesno_script">Yes/No Script</h1>
<div class="level1">

<p>
Only a <code>y</code> or <code>n</code> option breaks out of the loop.
</p>
<pre class="code bash"><span class="kw1">while</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$OPT</span>&quot;</span> <span class="sy0">!</span>= <span class="st0">&quot;y&quot;</span> <span class="br0">&#93;</span> <span class="sy0">&amp;&amp;</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es2">$OPT</span>&quot;</span> <span class="sy0">!</span>= <span class="st0">&quot;n&quot;</span> <span class="br0">&#93;</span>; <span class="kw1">do</span>
  <span class="kw3">echo</span> <span class="re5">-n</span> <span class="st0">&quot;Yes or no? (y/n) : &quot;</span>
  <span class="kw3">read</span> OPT
  <span class="kw1">case</span> <span class="st0">&quot;<span class="es2">$OPT</span>&quot;</span> <span class="kw1">in</span>
    y<span class="br0">&#41;</span>
      <span class="kw3">echo</span> <span class="st0">&quot;yes!&quot;</span>
      <span class="sy0">;;</span>
    n<span class="br0">&#41;</span>
      <span class="kw3">echo</span> <span class="st0">&quot;no!&quot;</span>
      <span class="sy0">;;</span>
    <span class="sy0">*</span><span class="br0">&#41;</span>
      <span class="sy0">;;</span>
  <span class="kw1">esac</span>
<span class="kw1">done</span></pre>

</div>

<h1 class="sectionedit13" id="lock">Lock</h1>
<div class="level1">

<p>
To prevent parallel execution of scripts, the following snippet can be used:
</p>
<pre class="code bash"><span class="co0"># Acquire a lock.</span>
<span class="re2">LOCK_FILE</span>=<span class="st_h">'/var/lock/myscript'</span>
<span class="kw1">if</span> <span class="kw2">mkdir</span> <span class="re1">$LOCK_FILE</span> <span class="nu0">2</span><span class="sy0">&gt;&amp;</span><span class="nu0">1</span> <span class="sy0">&gt;/</span>dev<span class="sy0">/</span>null; <span class="kw1">then</span>
    <span class="kw3">trap</span> <span class="st_h">'{ rm -rf $LOCK_FILE; }'</span> KILL QUIT TERM EXIT INT HUP
<span class="kw1">else</span>
    <span class="kw3">exit</span> <span class="nu0">0</span>
<span class="kw1">fi</span></pre>

<p>
where:
</p>
<ul>
<li class="level1"><div class="li"> <code>LOCK_FILE</code> points to a location where a directory <code>myscript</code> can be created.</div>
</li>
</ul>

<p>
The command <code>mkdir</code> is guaranteed to be atomic, such that out of multiple concurrent processes only one will succeed in creating the directory at <code>/var/lock/myscript</code>. Once the directory is created, the lock is established, and  the <code>trap</code> instruction will bind to the <code>KILL</code>, <code>QUIT</code>, <code>TERM</code>, <code>EXIT</code>, <code>INT</code> and <code>HUP</code>, essentially ensuring that the code <code>{ rm -rf $LOCK_FILE; }</code> will be executed once those signals are raised (this includes normal script termination - via <code>QUIT</code>) thereby releasing the lock.
</p>

<p>
The snippet can be used directly in any script just by setting the value of <code>LOCK_FILE</code> to some chosen path where the script will be able to create a lock directory.
</p>

</div>

<h1 class="sectionedit14" id="loop_over_command_line_arguments">Loop Over Command Line Arguments</h1>
<div class="level1">
<pre class="code bash"><span class="kw1">for</span> arg <span class="kw1">in</span> <span class="st0">&quot;$@&quot;</span>; <span class="kw1">do</span>
  <span class="kw3">echo</span> <span class="re1">$arg</span>
<span class="kw1">done</span></pre>

</div>

<h1 class="sectionedit15" id="concatenate_strings">Concatenate Strings</h1>
<div class="level1">

<p>
Input:
</p>
<pre class="code bash"><span class="re2">HELLO</span>=<span class="st_h">'hello'</span>
<span class="re2">WORLD</span>=<span class="st_h">'world'</span>
<span class="re2">GREET</span>=<span class="re1">$HELLO</span><span class="st0">&quot; &quot;</span><span class="re1">$WORLD</span>
<span class="kw3">echo</span> <span class="re1">$GREET</span></pre>

<p>
Output:
</p>
<pre class="code">hello world</pre>

</div>

<h1 class="sectionedit16" id="sleep_sort">Sleep Sort</h1>
<div class="level1">

<p>
Introduced by <a href="http://dis.4chan.org/read/prog/1295544154" class="urlextern" title="http://dis.4chan.org/read/prog/1295544154" rel="ugc nofollow">Anonymous</a> on 4chan. For each number to sort, spawn a thread (process) and make the thread sleep for that number of seconds and receive the output in order. Noted for further reference.
</p>

<p>
Example, call with:
</p>
<pre class="code">./sleepsort.bash 5 3 6 3 6 3 1 4 7</pre>

<p>
to sort the numbers.
</p>
<pre class="code bash"><span class="co0">#!/bin/bash</span>
<span class="kw1">function</span> f<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw2">sleep</span> <span class="st0">&quot;$1&quot;</span>
    <span class="kw3">echo</span> <span class="st0">&quot;$1&quot;</span>
<span class="br0">&#125;</span>
<span class="kw1">while</span> <span class="br0">&#91;</span> <span class="re5">-n</span> <span class="st0">&quot;$1&quot;</span> <span class="br0">&#93;</span>
<span class="kw1">do</span>
    f <span class="st0">&quot;$1&quot;</span> <span class="sy0">&amp;</span>
    <span class="kw3">shift</span>
<span class="kw1">done</span>
<span class="kw3">wait</span></pre>

</div>

<h2 class="sectionedit17" id="notes">Notes</h2>
<div class="level2">
<ul>
<li class="level1"><div class="li"> The algorithm sleeps for the numeric number of the values to sort - in <code>bash</code>, that would be seconds. One can perhaps further reduce the numbers by dividing them with a large constant. That way, the thread would sleep for a very short period of time. When the numbers arrive, multiply the number with the same large constant to obtain the original numbers in sorted order.</div>
</li>
<li class="level1"><div class="li"> This is an instance where a race-condition can be used in a beneficial way. Another example for race conditions that can be used in a beneficial way can be found on the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria" class="wikilink1" title="opensim:project_alexandria" data-wiki-id="opensim:project_alexandria">project Alexandria page</a>. The Oracle sends a trigger message on a public channel and the bookshelves are given a certain timeout to respond. Based on the time it takes for that answer to arrive from any bookshelf, the Oracle can tell whether the result is more relevant than other results.</div>
</li>
</ul>

</div>

<h1 class="sectionedit18" id="shell_history">Shell History</h1>
<div class="level1">

<p>
The <code>bash</code> history of commands can be reveled by issuing:
</p>
<pre class="code bash"><span class="kw3">history</span></pre>

<p>
The number on the left column represent an index, and the command is listed in the right column. To repeat a certain command, issue:
</p>
<pre class="code">!&lt;index&gt;</pre>

<p>
where <code>index</code> is a number from the left column. For example:
</p>
<pre class="code bash"><span class="sy0">!</span><span class="nu0">602</span></pre>

<p>
will execute the command referenced by the index <code>602</code>.
</p>

<p>
The history can also be searched using the keyboard shortcut <kbd class="__keyboard">Ctr</kbd>+<kbd class="__keyboard">R</kbd> or using the <code>!?</code> operator followed by a partial history match.
</p>

<p>
If you would write:
</p>
<pre class="code bash"><span class="sy0">!!</span></pre>

<p>
then the first <code>!</code> will be substituted for the last command and the second <code>!</code> will be substituted for the command arguments. You can use <code>!!</code> as a shortcut to repeating the previous command as an alternative to using the up-arrow and pressing enter.
</p>

<p>
To execute the parameters of the previous command:
</p>
<pre class="code bash"><span class="sy0">!*</span></pre>

<p>
which helps in cases where two commands were issued by accident.
</p>

<p>
As an alternative, you could write:
</p>
<pre class="code bash"><span class="sy0">!!</span>:gs<span class="sy0">/</span>foo<span class="sy0">/</span>bar</pre>

<p>
which will replace <code>foo</code> by <code>bar</code> every time <code>foo</code> appears (hence the <code>g</code>; <code>s</code> stands for substitute).
</p>

<p>
One other thing to do is:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="st0">&quot;!!&quot;</span> <span class="sy0">&gt;</span> script.sh</pre>

<p>
which will take the last command and arguments and place them in a file called <code>script.sh</code>.
</p>

</div>

<h1 class="sectionedit19" id="pipe_visualiser">Pipe Visualiser</h1>
<div class="level1">

<p>
<code>pv</code> is an utility that can intercept pipes and show various statistics during transfer.
</p>
<pre class="code bash">pv <span class="re5">--format</span>=<span class="st0">&quot;Elapsed Time:%t Transferred:%b Rate:%r Average:%a&quot;</span> <span class="sy0">/</span>dev<span class="sy0">/</span>disk3 <span class="sy0">&gt;</span> disk3.img</pre>

<p>
Unless <code>pv</code> opens a file directly, it will not be able to determine its file size and will not be able to display an <code>ETA</code> or what is commonly understood by a <em>progress bar</em>. Even when reading from a block device such as <code>/dev/disk3</code> in the example above, <code>pv</code> does not seem able to determine the size of the associated drive. In case <code>pv</code> is not able to determine the file size, what is commonly understood by a <em>progress bar</em> will be in fact an <em>activity monitor</em>. This is why the example above chooses to show only statistics instead of a progress bar.
</p>

</div>

<h1 class="sectionedit20" id="length_of_string">Length of String</h1>
<div class="level1">

<p>
Given a string variable <code>var</code>, the following:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="co1">${#var}</span></pre>

<p>
prints out the length of the string <code>var</code>.
</p>

</div>

<h1 class="sectionedit21" id="convert_shellcode_to_opcode">Convert Shellcode to OpCode</h1>
<div class="level1">

<p>
Requires the <code>nasm</code> disassembler:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="re5">-ne</span> <span class="st0">&quot;\xeb\xe0&quot;</span> <span class="sy0">|</span> ndisasm <span class="re5">-u</span> -</pre>

</div>

<h1 class="sectionedit22" id="purge_shell_history">Purge Shell History</h1>
<div class="level1">
<pre class="code bash"><span class="kw3">history</span> <span class="re5">-c</span> <span class="sy0">&amp;&amp;</span> <span class="kw2">rm</span> <span class="re5">-f</span> ~<span class="sy0">/</span>.bash_history</pre>

</div>

<h1 class="sectionedit23" id="change_all_files_in_a_directory_to_lowercase">Change all Files in a Directory to Lowercase</h1>
<div class="level1">
<pre class="code bash">rename <span class="st_h">'y/A-Z/a-z/'</span> <span class="sy0">*</span></pre>

</div>

<h1 class="sectionedit24" id="sort_file_by_line_length">Sort File by Line Length</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">cat</span> <span class="kw2">file</span> <span class="sy0">|</span> <span class="kw2">awk</span> <span class="st_h">'{ print length, $0 }'</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-n</span> <span class="sy0">|</span> <span class="kw2">cut</span> <span class="re5">-d</span><span class="st0">&quot; &quot;</span> <span class="re5">-f2-</span></pre>

</div>

<h1 class="sectionedit25" id="delete_a_list_of_files">Delete a List of Files</h1>
<div class="level1">

<p>
Suppose you have a text file containing files listed one-by-one such as:
</p>
<pre class="code"># removed in 2014-05-05
lib/images/fileicons/audio.png
lib/plugins/acl/lang/hi/lang.php
lib/plugins/acl/lang/id-ni/lang.php</pre>

<p>
then, the following command can be used to delete them:
</p>
<pre class="code bash"><span class="kw2">grep</span> <span class="re5">-Ev</span> <span class="st_h">'^($|#)'</span> delete.txt <span class="sy0">|</span> <span class="kw2">xargs</span> <span class="re5">-n</span> <span class="nu0">1</span> <span class="kw2">rm</span> <span class="re5">-vf</span></pre>

<p>
The command ignores any lines starting with either <code>$</code> or <code>#</code>.
</p>

</div>

<h1 class="sectionedit26" id="show_a_tree_view_of_folders_subfolders_and_files">Show a Tree View of Folders, Subfolders and Files</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">ls</span> <span class="re5">-R</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="st0">&quot;:$&quot;</span> <span class="sy0">|</span> <span class="kw2">sed</span> <span class="re5">-e</span> <span class="st_h">'s/:$//'</span> <span class="re5">-e</span> <span class="st_h">'s/[^-][^\/]*\//--/g'</span> <span class="re5">-e</span> <span class="st_h">'s/^/ /'</span> <span class="re5">-e</span> <span class="st_h">'s/-/|/'</span></pre>

</div>

<h1 class="sectionedit27" id="find_executables">Find Executables</h1>
<div class="level1">

<p>
A reoccurring problem is to find executables using the terminal. One solution is to use <code>find</code> and set the <code>perm</code> mask accordingly. The following command will find files (<code>-type f</code>) with any executable permissions (<code>-perm /11</code>):
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-type</span> f  <span class="re5">-perm</span> <span class="sy0">/</span><span class="nu0">111</span> <span class="re5">-exec</span> <span class="kw3">echo</span> <span class="st_h">'{}'</span> \;</pre>

<p>
<code>/111</code> indicates that <em>any</em> of the bit fields of the mask <code>0111</code> are set. In other words, for an executable file if any of the following flags are set:
</p>
<pre class="code">-rwxr-xr-x
   ^  ^  ^
   |  |  |
 OR OR OR</pre>

<p>
then the <code>find</code> will match.
</p>

<p>
When a binary is found, <code>find</code> will print out the executable filename (<code>-exec echo &#039;{}</code>&#039;).
</p>

<p>
Note that the executable flag can be set for any file or directory and it does not mean that the file is really an executable.
</p>

</div>

<h1 class="sectionedit28" id="delete_files_using_find">Delete Files using Find</h1>
<div class="level1">

<p>
We use the <code>-delete</code> predicate:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-name</span> <span class="st0">&quot;*.txt&quot;</span> <span class="re5">-delete</span></pre>

</div>

<h1 class="sectionedit29" id="reverse_lines_in_a_file1">Reverse Lines in a File</h1>
<div class="level1">

<p>
Suppose you have a file containing the following lines:
</p>
<pre class="code">a
b
c
</pre>

<p>
and you wish to reverse the order so that you obtain the lines:
</p>
<pre class="code">c
b
a
</pre>

<p>
Then you can use store the lines in a file called <code>file.txt</code> and then issue the command:
</p>
<pre class="code bash"><span class="kw2">tail</span> <span class="re5">-r</span> file.txt</pre>

<p>
which will reverse the lines.
</p>

</div>

<h1 class="sectionedit30" id="run_shell_script_with_modified_priority">Run Shell Script with Modified Priority</h1>
<div class="level1">

<p>
Usually the <code>nice</code> and <code>renice</code> commands are used to execute commands with lowered priority. However, the following can be used to run a shell script with a modified priority. For example, this is what the header of a script looks like:
</p>
<pre class="code bash"><span class="co0">#!/bin/sh</span>
&nbsp;
renice <span class="nu0">19</span> <span class="re5">-p</span> <span class="re4">$$</span></pre>

<p>
The <code>renice</code> command will schedule that script with the lowest priority.
</p>

</div>

<h1 class="sectionedit31" id="extract_files_recursively">Extract Files Recursively</h1>
<div class="level1">

<p>
The following command searches for all the zip files in all the sub-directories, decompresses them in the directory they are in while overwriting any existing file and finally removes the zip file itself.
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-name</span> <span class="st_h">'*.zip'</span> <span class="sy0">|</span> parallel <span class="re5">-j4</span> <span class="st_h">'cd {//}; unzip -o &quot;$(basename {/} .zip)&quot;; rm {/}'</span></pre>

</div>

<h2 class="sectionedit32" id="while_creating_folders">While Creating Folders</h2>
<div class="level2">

<p>
Suppose you have a hierarchy:
</p>
<pre class="code">+ Music
|
+- A
|  +- A-10 Tank Killer.zip
|  |
|  +- Abandoned Places.zip
|   
+- B
|  +- Baal.zip
|  |
|  +- Back to the Future Part II.zip
|
...</pre>

<p>
after running the command in the <code>Music</code> directory, you want to obtain the following directory hierarchy:
</p>
<pre class="code">+ Music
|
+- A
|  +- A-10 Tank Killer
|  |  +
|  |  |
|  |  + sound.mod
|  |  |
|  |  + print.wav
|  |
|  +- Abandoned Places
|     +
|     |
|     + abd.trk
|     |
|     + flow.wav
|     |
|     + mus.mp3
| 
+- B
|  +- Baal
|  |  +
|  |  |
|  |  + crest.wav
|  |
|  +- Back to the Future Part II
|     +
|     |
|     + music.mp3
|     |
|     + instruments
|       +
|       |
|       + guitars.pro
|       |
|       + percussion.trk
|
...</pre>

<p>
Thus, given a directory hierarchy that contains archives (in this case, zip files) stored within sub-directories, the following command will recursively unzip all the files in the hierarchy by:
</p>
<ul>
<li class="level1"><div class="li"> creating a directory for the zip file,</div>
</li>
<li class="level1"><div class="li"> unzipping the files in that directory,</div>
</li>
<li class="level1"><div class="li"> removing the original zip file</div>
</li>
</ul>

<p>
The command unarchives the files in parallel (the <code>-j4</code> indicates <code>4</code> different processes) and works for directory trees of any depth.
</p>

</div>

<h2 class="sectionedit33" id="for_zip">For ZIP</h2>
<div class="level2">

<p>
Using parallel:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-iname</span> <span class="st_h">'*.zip'</span> <span class="sy0">|</span> parallel <span class="re5">-j4</span> <span class="st_h">'cd {//}; mkdir -p &quot;$(basename {/} .zip)&quot;; unzip {/} -d &quot;$(basename {/} .zip)&quot;; rm {/}'</span></pre>

<p>
and without parallel:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-iname</span> <span class="st_h">'*.zip'</span> <span class="re5">-print0</span> <span class="sy0">|</span> <span class="kw2">xargs</span> <span class="re5">-0</span> -I<span class="br0">&#123;</span><span class="br0">&#125;</span> <span class="kw2">sh</span> <span class="re5">-c</span> <span class="st_h">'d=$(basename &quot;{}&quot; .zip); mkdir -p &quot;$d&quot;; unzip &quot;{}&quot; -d &quot;$d&quot;;'</span></pre>

</div>

<h2 class="sectionedit34" id="for_rar">For RAR</h2>
<div class="level2">

<p>
To use RAR / <code>unrar</code> instead, issue:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-name</span> <span class="st_h">'*.rar'</span> <span class="sy0">|</span> parallel <span class="re5">-j4</span> <span class="st_h">'cd {//}; mkdir &quot;$(basename {/} .rar)&quot;; unrar x {/} &quot;$(basename {/} .rar)&quot;; rm {/}'</span></pre>

</div>

<h1 class="sectionedit35" id="replace_string_in_files">Replace String in Files</h1>
<div class="level1">

<p>
To replace a string in multiple files you can use <code>find</code> and <code>perl</code>:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-type</span> f <span class="re5">-exec</span> <span class="kw2">perl</span> <span class="re5">-p</span> <span class="re5">-i</span> <span class="re5">-e</span> <span class="st_h">'s/was\.fm/grimore\.org/g'</span> <span class="st_h">'{}'</span> \;</pre>

<p>
this command will search all files in the path and replace the string <code>was.fm</code> with <code>grimore.org</code>.
</p>

</div>

<h1 class="sectionedit36" id="transfer_a_directory_between_servers">Transfer a Directory between Servers</h1>
<div class="level1">

<p>
This can be performed in several ways depending on the tools available.
</p>

</div>

<h2 class="sectionedit37" id="using_tape_archives">Using Tape Archives</h2>
<div class="level2">

<p>
This can be accomplished by using <code>tar</code> and the pipe operator:
</p>
<pre class="code bash"><span class="kw2">tar</span> <span class="re5">-cf</span> - <span class="sy0">/</span>path<span class="sy0">/</span>to<span class="sy0">/</span><span class="kw2">dir</span> <span class="sy0">|</span> <span class="kw2">ssh</span> <span class="re5">-C</span> remote_server <span class="st_h">'tar -xvf - -C /path/to/remotedir'</span></pre>

<p>
where:
</p>
<ul>
<li class="level1"><div class="li"> <code>/path/to/dir</code> is the path to the directory to transfer on the local server</div>
</li>
<li class="level1"><div class="li"> <code>/path/to/remotedir</code> is the destination directory on the remote server</div>
</li>
</ul>

</div>

<h2 class="sectionedit38" id="using_sockets">Using Sockets</h2>
<div class="level2">

<p>
Another alternative is to use <code>nc</code> (netcat) and <code>cpio</code>. First on the receiving machine, you would write:
</p>
<pre class="code bash">nc <span class="re5">-l</span> <span class="re5">-p</span> <span class="sy0">&lt;</span>port<span class="sy0">&gt;</span> <span class="sy0">|</span> <span class="kw2">gunzip</span> <span class="sy0">|</span> <span class="kw2">cpio</span> <span class="re5">-i</span> <span class="re5">-d</span> <span class="re5">-m</span></pre>

<p>
where <code>&lt;port&gt;</code> represents any port number.
</p>

<p>
and then on the destination machine, you would write:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-type</span> f <span class="sy0">|</span> <span class="kw2">cpio</span> <span class="re5">-o</span> <span class="sy0">|</span> <span class="kw2">gzip</span> <span class="re5">-1</span> <span class="sy0">|</span> nc <span class="sy0">&lt;</span>destination<span class="sy0">&gt;</span> <span class="sy0">&lt;</span>port<span class="sy0">&gt;</span></pre>

<p>
where <code>&lt;destination&gt;</code> is the hostname or IP address of the receiving machine and <code>&lt;port&gt;</code> represents the port number that you used on the receiving machine.
</p>

</div>

<h1 class="sectionedit39" id="delete_duplicate_lines_in_a_file_while_preserving_the_order">Delete Duplicate Lines in a File while Preserving the Order</h1>
<div class="level1">

<p>
The following command will remove all duplicate lines from <code>input.txt</code> and output the result to <code>output.txt</code> while preserving the order of the lines:
</p>
<pre class="code bash"><span class="kw2">cat</span> <span class="re5">-n</span> input.txt <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-k2</span> <span class="re5">-k1n</span>  <span class="sy0">|</span> <span class="kw2">uniq</span> <span class="re5">-f1</span> <span class="sy0">|</span> <span class="kw2">sort</span> -nk1,<span class="nu0">1</span> <span class="sy0">|</span> <span class="kw2">cut</span> <span class="re5">-f2-</span> <span class="sy0">&gt;</span> output.txt</pre>

<p>
The command performs the following operation:
</p>
<ul>
<li class="level1"><div class="li"> <code>cat -n input.txt</code>  - will open <code>input.txt</code> and number the lines and pass on the result.</div>
</li>
<li class="level1"><div class="li"> <code>sort -k2 -k1n</code> - will consider the characters from the second column to the end of the line first, then the first column but numerically when sorting.</div>
</li>
<li class="level1"><div class="li"> <code>uniq -f1</code> - will ignore the first column.</div>
</li>
<li class="level1"><div class="li"> <code>sort -nk1,1</code> - will sort the first column numerically while getting the sort order towhead it was originally. </div>
</li>
<li class="level1"><div class="li"> <code>cut -f2-</code> will remove the line numbers that were inserted by <code>cat</code>.</div>
</li>
</ul>

</div>

<h1 class="sectionedit40" id="rename_files_recursively_changing_case">Rename Files Recursively Changing Case</h1>
<div class="level1">

<p>
The perl <code>rename</code> command combined with <code>find</code> is the easiest way. The following command converts from uppercase to lowercase:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-depth</span> <span class="re5">-print</span> <span class="re5">-execdir</span> rename <span class="re5">-f</span> <span class="st_h">'y/A-Z/a-z/'</span> <span class="st_h">'{}'</span> \;</pre>

<p>
while the following command reverses the operation:
</p>
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-depth</span> <span class="re5">-print</span> <span class="re5">-execdir</span> rename <span class="re5">-f</span> <span class="st_h">'y/a-z/A-Z/'</span> <span class="st_h">'{}'</span> \;</pre>

<p>
the <code>rename</code> part is self-explanatory but the magic lies with <code>find</code>: the <code>-depth</code> parameter specifies that files should be changed before directories - this is very important on case-sensitive file-systems because one may end-up changing a directory name before the files inside it and while the command is recursing, the directory name may not be found and this is what <code>-depth</code> is for.
</p>

</div>

<h1 class="sectionedit41" id="merge_files_line-by-line">Merge Files Line-by-Line</h1>
<div class="level1">

<p>
The command:
</p>
<pre class="code bash">paste codes.txt status.txt <span class="sy0">|</span> <span class="kw2">awk</span> <span class="re5">-F</span><span class="st0">&quot;<span class="es1">\t</span>&quot;</span> <span class="st_h">'{print $1,$2}'</span></pre>

<p>
will print lines from <code>codes.txt</code> and then lines from <code>status.txt</code> delimited by a tab character. The sequence will then be piped into <code>awk</code> that will use the tab character as separator and print the first and then the second column received from the <code>paste</code> command.
</p>

</div>

<h1 class="sectionedit42" id="prepend_and_append_text_to_a_file">Prepend and Append Text to a File</h1>
<div class="level1">

<p>
Appending text to a file is usually achieved with:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="st0">&quot;append this string to the file&quot;</span> <span class="sy0">&gt;&gt;</span> test.txt</pre>

<p>
which adds the string at the end of the file.
</p>

<p>
In order to prepend some text to a file, the following can be used:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="st0">&quot;prepend this string to the file&quot;</span> <span class="sy0">|</span> <span class="kw2">cat</span> - test.txt <span class="sy0">|</span> <span class="kw2">cat</span> - <span class="sy0">&gt;</span> test.txt</pre>

<p>
which adds the string at the top of the file.
</p>

</div>

<h1 class="sectionedit43" id="wait_for_file_to_stop_changing">Wait for File to Stop Changing</h1>
<div class="level1">

<p>
The loop checks the date against the modification timestamp and sleeps while the difference is smaller than 10 seconds.
</p>
<pre class="code bash"><span class="kw1">while</span> <span class="br0">&#91;</span> $<span class="br0">&#40;</span><span class="br0">&#40;</span> $<span class="br0">&#40;</span><span class="kw2">date</span> +<span class="sy0">%</span>s<span class="br0">&#41;</span> - $<span class="br0">&#40;</span><span class="kw2">stat</span> <span class="re5">-c</span> <span class="sy0">%</span>Y FILENAME<span class="br0">&#41;</span> <span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="re5">-lt</span> <span class="nu0">10</span> <span class="br0">&#93;</span>; <span class="kw1">do</span> 
    <span class="kw2">sleep</span> <span class="nu0">1</span>
<span class="kw1">done</span> </pre>

</div>

<h1 class="sectionedit44" id="repeat_a_sequence">Repeat a Sequence</h1>
<div class="level1">

<p>
The following command:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="sy0">`</span><span class="kw2">yes</span> +<span class="sy0">|</span><span class="kw2">head</span> -<span class="nu0">50</span><span class="sy0">`|</span><span class="kw2">tr</span> <span class="re5">-d</span> <span class="st_h">' '</span></pre>

<p>
will repeat the <code>+</code> character 50 times.
</p>

</div>

<h1 class="sectionedit45" id="stopwatch">Stopwatch</h1>
<div class="level1">

<p>
Executing:
</p>
<pre class="code bash"><span class="kw1">time</span> <span class="kw3">read</span></pre>

<p>
and then aborting with <kbd class="__keyboard">Ctrl</kbd>+<kbd class="__keyboard">D</kbd> will print out the amount of time waited.
</p>

</div>

<h1 class="sectionedit46" id="delete_files_that_do_not_match_an_extension">Delete Files that Do Not Match an Extension</h1>
<div class="level1">

<p>
In order to remove all files without an <code>ace</code>, <code>zip</code> or <code>rar</code> extension, issue:
</p>
<pre class="code bash"><span class="kw2">rm</span> <span class="sy0">!</span><span class="br0">&#40;</span><span class="sy0">*</span>.ace<span class="sy0">|*</span>.zip<span class="sy0">|*</span>.rar<span class="br0">&#41;</span></pre>

</div>

<h1 class="sectionedit47" id="get_top_ram_and_cpu_consuming_processes">Get Top RAM and CPU Consuming Processes</h1>
<div class="level1">

<p>
In oder to get the top RAM consuming processes:
</p>
<pre class="code bash"><span class="kw2">ps</span> <span class="re5">-eo</span> pmem,pcpu,pid,args <span class="sy0">|</span> <span class="kw2">tail</span> <span class="re5">-n</span> +<span class="nu0">2</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-rnk</span> <span class="nu0">1</span> <span class="sy0">|</span> <span class="kw2">head</span></pre>

<p>
To get the top CPU consuming processes:
</p>
<pre class="code bash"><span class="kw2">ps</span> <span class="re5">-eo</span> pmem,pcpu,pid,args <span class="sy0">|</span> <span class="kw2">tail</span> <span class="re5">-n</span> +<span class="nu0">2</span> <span class="sy0">|</span> <span class="kw2">sort</span> <span class="re5">-rnk</span> <span class="nu0">2</span> <span class="sy0">|</span> <span class="kw2">head</span></pre>

</div>

<h1 class="sectionedit48" id="copy_a_file_to_multiple_directories">Copy a File to Multiple Directories</h1>
<div class="level1">

<p>
The task is to copy a file, say <code>/home/root/writeup.txt</code> to the directories:
</p>
<ul>
<li class="level1"><div class="li"> <code>/var/www/site_1.tld/data/</code></div>
</li>
<li class="level1"><div class="li"> <code>/var/www/site_2.tld/data/</code></div>
</li>
<li class="level1"><div class="li"> <code>/var/www/site_3.tld/data/</code></div>
</li>
</ul>

<p>
without looping - since the standard solution would be to loop over all the directories and then on every iteration copy the file.
</p>

<p>
This can be accomplished, in this scenario, using <code>xargs</code>:
</p>
<pre class="code bash"><span class="kw3">echo</span> <span class="sy0">/</span>var<span class="sy0">/</span>www<span class="sy0">/*/</span>data<span class="sy0">/*</span> <span class="sy0">|</span> <span class="kw2">xargs</span> <span class="re5">-n</span> <span class="nu0">1</span> <span class="kw2">cp</span> <span class="sy0">/</span>etc<span class="sy0">/</span>root<span class="sy0">/</span>writeup.txt</pre>

</div>

<h1 class="sectionedit49" id="goto_and_exception_handling_in_shell_scripts">Goto and Exception Handling in Shell Scripts</h1>
<div class="level1">

<p>
Goto / exception handling can be implemented in a shell by using <code>trap</code> to install a handler and then deliver a signal to the current process:
</p>
<pre class="code bash"><span class="co0">#! /bin/sh</span>
&nbsp;
<span class="kw3">trap</span> <span class="st_h">'{ echo &quot;Good day!&quot;; }'</span> HUP
&nbsp;
<span class="co0"># do stuff</span>
&nbsp;
<span class="kw3">kill</span> <span class="re5">-s</span> HUP <span class="re4">$$</span></pre>

<p>
The script will install the (inline) handler function <code>{ echo &quot;Good day!&quot;; }</code> and bind to the HUP signal. The <code>kill</code> command will then deliver the <code>HUP</code> signal to the shell process (itself) which will then call the handler function.
</p>

<p>
The mechanism can be used to implement some form of goto or exception continuations - for instance, one could just terminate the shell script inside the handler function instead of just printing out <code>Good day!</code>. For instance, the following script:
</p>
<pre class="code bash"><span class="co0">#! /bin/sh</span>
&nbsp;
<span class="kw3">trap</span> <span class="st_h">'{ 
&nbsp;
# Check if temporary file exists.
if [ -f /tmp/tmp.EERfX5aeY8 ]; then
    echo &quot;temporary file exists&quot;
    # Terminate.
    exit
fi
&nbsp;
}'</span> HUP
&nbsp;
<span class="co0"># Raise signal.</span>
<span class="kw3">kill</span> <span class="re5">-s</span> HUP <span class="re4">$$</span>
<span class="co0"># Code not reached.</span>
<span class="kw3">echo</span> <span class="st0">&quot;END&quot;</span></pre>

<p>
will:
</p>
<ol>
<li class="level1"><div class="li"> install a handler for the <code>HUP</code> signal that will process an inline function.</div>
</li>
<li class="level1"><div class="li"> the script will then raise the <code>HUP</code> signal and the inline function will execute.</div>
</li>
<li class="level1"><div class="li"> since the inline function contains a terminator <code>exit</code>, the last line <code>echo &quot;END&quot;</code> will never execute</div>
</li>
</ol>

</div>

<h2 class="sectionedit50" id="examples">Examples</h2>
<div class="level2">

<p>
The goto trick is illustrated in the following scripts:
</p>
<ul>
<li class="level1"><div class="li"> <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/iptables#block_attacks_with_firehol_level_1_ip_abuse_list" class="wikilink1" title="fuss:iptables" data-wiki-id="fuss:iptables">script for blocking attacks with firehol level 1 list</a></div>
</li>
</ul>

</div>

<h1 class="sectionedit51" id="remove_files_in_or_not_in_a_list">Remove Files In or Not in a List</h1>
<div class="level1">

<p>
Given the filesystem structure:
</p>
<pre class="code"> top
  +
  |
  +---+ list.txt     
  |         
  +---+ stuff
      +---- f1.txt
      +---- f2.jpg
      +---- f4.gif
      +---- f5.doc</pre>

<p>
and a file containing:
</p>
<pre class="code">f2.jpg
f5.doc</pre>

<p>
and would like to remove all the files in the <code>stuff</code> folder that are contained in the list file, then the following command ran from the <code>top</code> directory:
</p>
<pre class="code bash"><span class="kw2">find</span> stuff <span class="re5">-type</span> f <span class="re5">-print0</span> <span class="sy0">|</span> <span class="kw2">grep</span> <span class="re5">-zZ</span> <span class="re5">-f</span> list.txt <span class="sy0">|</span> <span class="kw2">xargs</span> <span class="re5">-0</span> <span class="kw2">rm</span></pre>

<p>
where:
</p>
<ul>
<li class="level1"><div class="li"> <code>stuff</code> is the directory containing the files,</div>
</li>
<li class="level1"><div class="li"> <code>-type f</code> specifies that only files should be matched,</div>
</li>
<li class="level1"><div class="li"> <code>-print0</code> use a null byte as a terminator (in order to be compatible with files containing spaces),</div>
</li>
<li class="level1"><div class="li"> <code>-zZ</code> makes grep treat all input as being terminated with null bytes,</div>
</li>
<li class="level1"><div class="li"> <code>-f list.txt</code> will instruct grep to read the file <code>list.txt</code> line-by-line,</div>
</li>
<li class="level1"><div class="li"> <code>rm</code> removes the files</div>
</li>
</ul>

<p>
will remove all the files in the <code>stuff</code> directory that match any entry line-by-line in <code>list.txt</code>.
</p>

<p>
Conversely, if all the files in <code>stuff</code> have to be removed that are not contained in the list file <code>list.txt</code>, simply add the <code>-v</code> option to grep in the filter chain.
</p>

</div>

<h1 class="sectionedit52" id="generate_random_string_for_passwords_or_otherwise">Generate Random String (for Passwords, or Otherwise)</h1>
<div class="level1">

<p>
The following command will generate an alpha-numeric string from the real random number device that would be suitable to be used as a password:
</p>
<pre class="code bash"><span class="kw2">egrep</span> <span class="re5">-m</span> <span class="nu0">10</span> <span class="re5">-ao</span> <span class="st_h">'[\x20-\x7E]{1}$'</span> <span class="sy0">&lt;/</span>dev<span class="sy0">/</span>random <span class="sy0">|</span> <span class="kw2">tr</span> <span class="re5">-d</span> <span class="st_h">'\n'</span> <span class="sy0">|</span> <span class="kw2">wc</span> <span class="re5">-c</span></pre>

<p>
where:
</p>
<ul>
<li class="level1"><div class="li"> <code>-m 10</code> matches <img src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/fetch.php?media=wiki:latex:/imgb0c08f9b595a704efb907fc688034d80.png" class="latex_inline" alt="$10$" title="Math" /> printable characters (all ASCII characters starting from space <code>20</code> octal and up to tilde symbol <code>7E</code> in octal) from <code>/dev/urandom</code>,</div>
</li>
<li class="level1"><div class="li"> <code>-a</code> instructs grep to treat even binary input as characters,</div>
</li>
<li class="level1"><div class="li"> <code>-o</code> instructs grep to only print matches,</div>
</li>
<li class="level1"><div class="li"> <code>tr</code> will be used to delete space characters, and</div>
</li>
<li class="level1"><div class="li"> <code>wc -c</code> will count the characters for verification.</div>
</li>
</ul>

<p>
On OSX you can prevent the password to be echoed to the terminal by enqueueing the <code>pbcopy</code> command, ie:
</p>
<pre class="code bash"><span class="kw2">egrep</span> <span class="re5">-m</span> <span class="nu0">20</span> <span class="re5">-ao</span> <span class="st_h">'[\x20-\x7E]{1}$'</span> <span class="sy0">&lt;/</span>dev<span class="sy0">/</span>random <span class="sy0">|</span> <span class="kw2">tr</span> <span class="re5">-d</span> <span class="st_h">'\n'</span> <span class="sy0">|</span> pbcopy</pre>

<p>
which will then place the password in the clipboard.
</p>

</div>

<h1 class="sectionedit53" id="detach_background_and_re-attach_a_process">Detach, Background and Re-Attach a Process</h1>
<div class="level1">

<p>
More than often, as a command runs on the command line, it becomes perceivable that the command will take a long while to terminate. In such cases, in case the connection is severed, the command will be terminated as well since it is attached to the terminal being used for the connection.
</p>

<p>
In such situations, the solution is to background the process, disown the process from the current terminal and, perhaps, re-attach the process using a terminal multiplexer such as <code>tmux</code>.
</p>

<p>
With a command running in the current terminal, the operations should be:
</p>
<ol>
<li class="level1"><div class="li"> press the key combination <kbd class="__keyboard">Ctrl</kbd>+<kbd class="__keyboard">Z</kbd> in order to suspend the process and return to the command line,</div>
</li>
<li class="level1"><div class="li"> issue <code>bg</code> to background the process,</div>
</li>
<li class="level1"><div class="li"> issue the <code>disown</code> command with the PID of the background command as a parameter, for instance <code>disown 3142</code></div>
</li>
</ol>

<p>
At this point, the connection can be severed and the process will continue running in the background. However, there is no way of capturing the command output, if any. One solution is to use a terminal multiplexer to re-attach the command and then be able to receive output or send input:
</p>
<ol>
<li class="level1"><div class="li"> issue <code>tmux</code> to create a new session,</div>
</li>
<li class="level1"><div class="li"> in the new terminal opened by <code>tmux</code>, issue <code>reptyr -s PID</code> where <code>PID</code> is the process identifier of the command running in the backround</div>
</li>
</ol>

<p>
The command will now execute in the TMux session. Now, to background the entire tmux session with the process running, press the key-combination <kbd class="__keyboard">Ctrl</kbd>+<kbd class="__keyboard">B</kbd> to open up the tmux command line and type: <code>:detach</code>.
</p>

<p>
Later on, to check up on the command&#039;s progress, issue the command <code>tmux attach</code>.
</p>

</div>

<h1 class="sectionedit54" id="scramble_a_string">Scramble a String</h1>
<div class="level1">
<pre class="code bash"><span class="kw3">echo</span> <span class="st_h">'AGsg4SKKs74s62#'</span> <span class="sy0">|</span> <span class="kw2">sed</span> <span class="st_h">'s/./&amp;\n/g'</span> <span class="sy0">|</span> shuf <span class="sy0">|</span> <span class="kw2">tr</span> <span class="re5">-d</span> <span class="st0">&quot;<span class="es1">\n</span>&quot;</span></pre>

</div>

<h1 class="sectionedit55" id="generate_random_numbers_in_range_using_awk">Generate Random Numbers in Range using awk</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">awk</span> <span class="re5">-v</span> <span class="re2">min</span>=X <span class="re5">-v</span> <span class="re2">max</span>=Y <span class="st_h">'BEGIN{srand(); print int(min+rand()*(max-min+1))}'</span></pre>

<p>
where:
</p>
<ul>
<li class="level1"><div class="li"> <code>X</code> is the low number,</div>
</li>
<li class="level1"><div class="li"> <code>Y</code> is the high number</div>
</li>
</ul>

</div>

<h1 class="sectionedit56" id="find_plaintext_files">Find Plaintext Files</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">find</span> . <span class="re5">-type</span> f <span class="re5">-exec</span> <span class="kw2">grep</span> <span class="re5">-Iq</span> . <span class="br0">&#123;</span><span class="br0">&#125;</span> \; <span class="re5">-print</span></pre>

</div>

<h1 class="sectionedit57" id="ensure_newline_at_end_of_file">Ensure Newline at End of File</h1>
<div class="level1">
<pre class="code bash"><span class="kw2">find</span> <span class="re5">-name</span> \<span class="sy0">*</span>.txt <span class="sy0">|</span> <span class="kw1">while</span> <span class="kw3">read</span> f; <span class="kw1">do</span> <span class="kw2">tail</span> <span class="re5">-n1</span> <span class="re1">$f</span> <span class="sy0">|</span> <span class="kw3">read</span> <span class="re5">-r</span> _ <span class="sy0">||</span> <span class="kw3">echo</span> <span class="sy0">&gt;&gt;</span> <span class="re1">$f</span>; <span class="kw1">done</span></pre>

<p>
where:
</p>
<ul>
<li class="level1"><div class="li"> <code>*.txt</code> is the pattern to search for.</div>
</li>
</ul>

</div>

<h1 class="sectionedit58" id="execute_script_as_a_different_user">Execute Script as a Different User</h1>
<div class="level1">

<p>
Using <code>su</code>, the following script can be ran as <code>root</code> but will execute the remainder of the script after the <code>if</code> clause as the user <code>myanonamouse</code>:
</p>
<pre class="code bash"><span class="co0"># Restart the script as an user via su.</span>
<span class="kw1">if</span> <span class="br0">&#91;</span> <span class="st0">&quot;<span class="es4">$(id -u)</span>&quot;</span> <span class="re5">-eq</span> <span class="nu0">0</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
    <span class="co0"># exec replaces current shell</span>
    <span class="kw3">exec</span> <span class="kw2">su</span> myanonamouse <span class="st0">&quot;$0&quot;</span> <span class="re5">--</span> <span class="st0">&quot;$@&quot;</span>
    <span class="co0"># this line will not be reached</span>
<span class="kw1">fi</span>
&nbsp;
<span class="co0"># this will run as user &quot;myanonamouse&quot;</span></pre>

</div>

                    <!-- wikipage stop -->
                                    </div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <div class="docInfo"><bdi>fuss/sh.txt</bdi> · Last modified: 2022/04/19 09:28 (external edit)</div>

            <!-- PAGE ACTIONS -->
            <!-- <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Revisions [O]"><span>Revisions</span></a></li><li><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh?do=export_pdf"  class="action export_pdf" rel="nofollow" title="Export to PDF"><span>Export to PDF</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div>--><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer">
    <!-- <div class="buttons">
                <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div> -->

		<!-- BREADCRUMBS -->
					<div class="breadcrumbs">
									<div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" class="wikilink1" title="start" data-wiki-id="start">start</a></bdi></span> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss" class="wikilink1" title="fuss" data-wiki-id="fuss">fuss</a></bdi> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh" class="wikilink1" title="fuss:sh" data-wiki-id="fuss:sh">sh</a></bdi></div>
											</div>
		
		<!-- ********** BOTTOM BAR ********** -->
		<div class="bar" id="bar__bottom">
		  <div class="bar-left" id="bar__bottomleft">
			<form class="button btn_login" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="" /><button type="submit" title="Log In">Log In</button></div></form>						<form class="button btn_revs" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"><div class="no"><input type="hidden" name="do" value="revisions" /><button type="submit" accesskey="o" title="Revisions [O]">Revisions</button></div></form>			                        <form class="button btn_pdf" action="?do=export_pdf" method="POST">
                            <button type="submit" title="PDF">PDF</button>
                        </form>
		  </div>
		  <div class="bar-center">
                        <form class="button btn_home" action="/" method="POST">
                            <button type="submit" title="Home">Home</button>
                        </form>
			<form action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="fuss:sh" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			<!-- <form id="osssearchform" method="get" action="renderer">
        <input type="hidden" name="use" value="grimore.org">
        <input type="hidden" name="name" value="default">
        <input type="text" id="osssearchbox" name="query">
        <input type="hidden" name="login" value="search">
        <input type="hidden" name="key" value="1a5f74ab3f4df6ce883c4c158540e25e">
        <input type="submit" value="Search">
</form>
 -->
		  </div>
		  <div class="bar-right" id="bar__bottomright">
                        <form class="button btn_contact" action="mailto:%6F%66%66%69%63%65%40%67%72%69%6D%6F%72%65%2E%6F%72%67" method="POST">
                            <button type="submit" title="Contact">Contact</button>
                        </form>
                        <form class="button btn_news" action="/feed.php?mode=recent&amp;type=rss" method="POST">
                            <button type="submit" title="News">News</button>
                        </form>
			<form class="button btn_admin" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/sh"><div class="no"><input type="hidden" name="do" value="admin" /><button type="submit" title="Admin">Admin</button></div></form>								  </div>
		  		</div>

		
</div><!-- /footer -->

<div style="text-align: center;">
    <div style="display:inline-block;">
      <p>
        <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion">
          <img src="/lib/tpl/was/images/button-tor.png" alt="Access website using Tor" />
        </a> 
        <a href="http://ioujrf2uwqairs7l3vyvqp7n2pia3x3wg5w5qtcqvg32zezuezza.b32.i2p/" />
          <img src="/lib/tpl/was/images/button-i2p.png" alt="Access website using i2p" />
        </a>
        <a href="http://pgp.grimore.org/" />
          <img src="/lib/tpl/was/images/button-pgp.png" alt="Wizardry and Steamworks PGP Key" />
        </a>
      </p>
    </div>
<!--    <div style="display:inline-block;">
      <p>
        <a href="http://ij4lpzuyyng6cc4jw5mxibcyjv4rx4uk6x5jijoduglkgjh7mmya.b32.i2p">
          <img src="/lib/tpl/was/images/button-i2p.png" alt="Access website using i2p" />
        </a> 
      </p>
    </div>
    <div style="display:inline-block;">
      <p>
        <a href="http://cydia.grimore.org/">
          <img src="/lib/tpl/was/images/button-cydia.png" alt="Wizardry and Steamworks Cydia Repository" />
        </a> 
      </p>
    </div>
    <div style="display:inline-block;">
      <p>
        <a href="http://debian.grimore.org/">
          <img src="/lib/tpl/was/images/button-debian.png" alt="Wizardry and Steamworks Debian Repository" />
        </a> 
      </p>
    </div>
    <div style="display:inline-block;">
      <p>
        <a href="/opt/pasteboard/" rel="external nofollow">
          <img src="/lib/tpl/was/images/button-live.png" alt="Live Pasteboard" />
        </a> 
      </p>
    </div> -->
    
<br/>

    <p>
      For the copyright, license, warranty and privacy terms for the usage of this website please see the <a
      href="/wiki:license">license</a>, <a href="/wiki:privacy">privacy</a>, <a
      href="/wiki:copyright">copyright</a>
      and the <a href="/wiki:plagiarism">plagiarism</a> pages.
    </p>
</div>
    </div></div><!-- /site -->

    <div class="no"><img src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/taskrunner.php?id=fuss%3Ash&amp;1657306268" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if lte IE 8 ]></div><![endif]-->
</body>
</html>
