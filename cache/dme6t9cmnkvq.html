<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>AppArmor</title>
<script>document.documentElement.className="client-js";RLCONF={"wgBreakFrames":!1,"wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgRequestId":"12e6f79be6208b9e86399776","wgCSPNonce":!1,"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":!1,"wgNamespaceNumber":0,"wgPageName":"AppArmor","wgTitle":"AppArmor","wgCurRevisionId":83945,"wgRevisionId":83945,"wgArticleId":891,"wgIsArticle":!0,"wgIsRedirect":!1,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Documentation"],"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgRelevantPageName":"AppArmor","wgRelevantArticleId":891,"wgIsProbablyEditable":!0,"wgRelevantPageIsProbablyEditable":!0,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgFlaggedRevsParams":{"tags":{"accuracy":{"levels":3}}},"wgStableRevisionId":83945
,"wgMediaViewerOnClick":!0,"wgMediaViewerEnabledByDefault":!0,"wgSiteNoticeId":"1.35"};RLSTATE={"site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","ext.flaggedRevs.icons":"ready","oojs-ui-core.styles":"ready","oojs-ui.styles.indicators":"ready","mediawiki.widgets.styles":"ready","oojs-ui-core.icons":"ready","ext.cite.styles":"ready","ext.bootstrap.styles":"ready","skins.vector.styles.legacy":"ready","jquery.makeCollapsible.styles":"ready","ext.CookieWarning.styles":"ready","ext.flaggedRevs.basic":"ready","ext.dismissableSiteNotice.styles":"ready"};RLPAGEMODULES=["ext.cite.ux-enhancements","ext.bootstrap.scripts","site","mediawiki.page.ready","jquery.makeCollapsible","mediawiki.toc","skins.vector.legacy.js","ext.gadget.ReferenceTooltips","ext.CookieWarning","ext.flaggedRevs.advanced","mmv.head","mmv.bootstrap.autostart","ext.dismissableSiteNotice"];</script>
<script>(RLQ=window.RLQ||[]).push(function(){mw.loader.implement("user.options@1hzgi",function($,jQuery,require,module){/*@nomin*/mw.user.tokens.set({"patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});
});});</script>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=ext.CookieWarning.styles%7Cext.bootstrap.styles%7Cext.cite.styles%7Cext.dismissableSiteNotice.styles%7Cext.flaggedRevs.basic%2Cicons%7Cjquery.makeCollapsible.styles%7Cmediawiki.widgets.styles%7Coojs-ui-core.icons%2Cstyles%7Coojs-ui.styles.indicators%7Cskins.vector.styles.legacy&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?lang=en&amp;modules=startup&amp;only=scripts&amp;raw=1&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.37.2"/>
<meta name="format-detection" content="telephone=no"/>
<meta name="description" content="AppArmor profiles (Security Hardening) for Whonix ™ and other Linux distributions."/>
<meta name="twitter:site" content="@Whonix"/>
<meta name="twitter:card" content="summary_large_image"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes, minimum-scale=0.25, maximum-scale=5.0"/>
<link rel="alternate" type="application/x-wiki" title="Edit" href="/w/index.php?title=AppArmor&amp;action=edit"/>
<link rel="edit" title="Edit" href="/w/index.php?title=AppArmor&amp;action=edit"/>
<link rel="shortcut icon" href="/w/images/a/a4/Whonix-home-favicon.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Whonix (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/w/api.php?action=rsd"/>
<link rel="license" href="/wiki/WgRightsPage"/>
<link rel="alternate" type="application/atom+xml" title="Whonix Atom feed" href="/w/index.php?title=Special:RecentChanges&amp;feed=atom"/>
<!-- Begin Extension:CSS --><link rel="stylesheet" href="/w/index.php?title=MediaWiki:Header.css&amp;action=raw&amp;ctype=text/css&amp;css-extension=1"/><!-- End Extension:CSS -->
<!-- Begin Extension:CSS --><link rel="stylesheet" href="/w/index.php?title=MediaWiki:SiteSpecific.css&amp;action=raw&amp;ctype=text/css&amp;css-extension=1"/><!-- End Extension:CSS -->
<!-- Begin Extension:CSS --><link rel="stylesheet" href="/w/index.php?title=MediaWiki:Sitenotice.css&amp;action=raw&amp;ctype=text/css&amp;css-extension=1"/><!-- End Extension:CSS -->
<!-- Begin Extension:CSS --><link rel="stylesheet" href="/w/index.php?title=MediaWiki:Footer.css&amp;action=raw&amp;ctype=text/css&amp;css-extension=1"/><!-- End Extension:CSS -->
<noscript><link rel="stylesheet" href="/w/index.php?title=MediaWiki:Nojs.css&action=raw&ctype=text/css"></noscript>
<link rel="stylesheet" type="text/css" href="/libs/Font-Awesome/css/all.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta property="og:title" content="AppArmor"/>
<meta property="og:site_name" content="Whonix"/>
<meta property="og:url" content="http://www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/wiki/AppArmor"/>
<meta property="og:description" content="AppArmor profiles (Security Hardening) for Whonix ™ and other Linux distributions."/>
<meta property="og:image" content="https://www.whonix.org/w/images/f/f1/Coat-of-mail-948960640.jpg"/>
<meta property="article:modified_time" content="2022-06-29T07:55:48Z"/>
<meta property="article:published_time" content="2022-06-29T07:55:48Z"/>
<meta property="og:type" content="website"/>
<script type="application/ld+json">{"@context":"http:\/\/schema.org","@type":"website","name":"AppArmor","headline":"AppArmor","mainEntityOfPage":"AppArmor","identifier":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion\/wiki\/AppArmor","url":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion\/wiki\/AppArmor","description":"AppArmor profiles (Security Hardening) for Whonix \u2122 and other Linux distributions.","dateModified":"2022-06-29T07:55:48Z","datePublished":"2022-06-29T07:55:48Z","image":{"@type":"ImageObject","url":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion\/w\/images\/thumb\/f\/f1\/Logo_box.png\/200px-Logo_box.png"},"author":{"@type":"Organization","name":"Whonix","url":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion","logo":{"@type":"ImageObject","url":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion\/w\/images\/thumb\/f\/f1\/Logo_box.png\/200px-Logo_box.png","caption":"Whonix"}},"publisher":{"@type":"Organization","name":"Whonix","url":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion","logo":{"@type":"ImageObject","url":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion\/w\/images\/thumb\/f\/f1\/Logo_box.png\/200px-Logo_box.png","caption":"Whonix"}},"potentialAction":{"@type":"SearchAction","target":"http:\/\/www.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion\/w\/index.php?title=Special:Search&search={search_term}","query-input":"required name=search_term"}}</script>
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject mw-editable page-AppArmor rootpage-AppArmor skin-vector action-view skin--responsive skin-vector-legacy"><div id="mw-page-base" class="noprint"></div>
<div id="mw-head-base" class="noprint"></div>
<div id="content" class="mw-body" role="main">
	<a id="top"></a>
	<div id="siteNotice"><div id="mw-dismissablenotice-anonplace"></div><script>(function(){var node=document.getElementById("mw-dismissablenotice-anonplace");if(node){node.outerHTML="\u003Cdiv class=\"mw-dismissable-notice\"\u003E\u003Cdiv class=\"mw-dismissable-notice-close\"\u003E[\u003Ca tabindex=\"0\" role=\"button\"\u003Edismiss\u003C/a\u003E]\u003C/div\u003E\u003Cdiv class=\"mw-dismissable-notice-body\"\u003E\u003Cdiv id=\"localNotice\" lang=\"en\" dir=\"ltr\"\u003E\u003Cp\u003E\u003C!--\n2022-02-21 version 2 : 10 year celebration\n--\u003E\n\u003Ca class=\"active-banner active-banner-02\" href=\"/wiki/Donate\"  data-dismiss-id=\"ab02\"\u003E\n\u003Cimg src=\"/w/images/0/0b/Whonix-10-year-celebration-banner.jpg\"\u003E\n\u003C/a\u003E\n\u003C!--first version --\u003E\n\u003C!--\n\u003Ca class=\"active-banner active-banner-01\" href=\"/wiki/Donate\" data-dismiss-id=\"ab01\"\u003E\n\u003Cimg class=\"icon\" src=\"/w/images/0/0b/Grow-symbol.png\"\u003E\n\u003Cspan\u003EWant to help us grow?\u003C/span\u003E\n\u003C/a\u003E\n--\u003E\n\u003C/p\u003E\u003C/div\u003E\u003C/div\u003E\u003C/div\u003E";}}());</script></div>
	<div class="mw-indicators">
	</div>
	<h1 id="firstHeading" class="firstHeading" >AppArmor</h1>
	<div id="bodyContent" class="vector-body">
		<div id="siteSub" class="noprint">From Whonix</div>
		<div id="contentSub"></div>
		<div id="contentSub2"></div>
		
		<div id="jump-to-nav"></div>
		<a class="mw-jump-link" href="#mw-head">Jump to navigation</a>
		<a class="mw-jump-link" href="#searchInput">Jump to search</a>
		<div id="mw-content-text" class="mw-body-content mw-content-ltr" lang="en" dir="ltr"><div class="mw-parser-output"><p>  <div id="custom-header">
 <div class="style-wrapper">
  <a href="/" class="home"></a>

  <div class="nav-menu">
   <div class="menu-title">Menu</div>

   <div class="submenu">
    <a href="/wiki/Download">Download</a>
    <a href="/wiki/Documentation">Docs</a>
    <a href="https://forums.whonix.org/c/news">News</a>
    <a href="/wiki/Contribute">Help us</a>
   </div>
  </div>

  <div class="menu-right">
   <a class="search" href="/w/index.php?search="></a>

   <div class="super-menu">
    <div class="menu-title"></div>

    <div class="submenus">
     <div class="col1">
      <span class="headline tools">Tools</span>
      <a class="upload user-logged-in" href="/wiki/Special:Upload">Upload file</a>
      <a class="special" href="/wiki/Special:SpecialPages">Special pages</a>
      <a class="recentchanges user-logged-in" href="/wiki/Special:RecentChanges">Recent changes</a>
      <a class="print" href="javascript:print();">Print Version</a>

      <span class="headline pagemeta">Page meta</span>
      <a class="whatlinkshere user-logged-in" href="/wiki/Special:WhatLinksHere/AppArmor">What links here</a>
      <a class="relatedchanges" href="/wiki/Special:RecentChangesLinked/AppArmor">Related changes</a>
      <a class="info" href="https://www.whonix.org/w/index.php?title=AppArmor&action=info">Page information</a>
     </div>

     <div class="col2">
      <span class="headline page">Page</span>
      <a class="view" href="/wiki/AppArmor">Read</a>
      <a class="edit" href="/w/index.php?title=AppArmor&action=edit&oldid=83945">Edit</a>
      <a class="history user-logged-in" href="/w/index.php?title=AppArmor&action=history">History</a>
      <a class="move user-logged-in" href="/wiki/Special:MovePage/AppArmor">Move</a>
      <a class="protect" href="/w/index.php?title=AppArmor&action=protect">Protection</a>
      <a class="unwatch user-logged-in" href="/w/index.php?title=AppArmor&action=unwatch">Unwatch</a>
      <a class="watch user-logged-in" href="/w/index.php?title=AppArmor&action=watch">Watch</a>
      <a class="delete user-logged-in" href="/w/index.php?title=AppArmor&action=delete">Delete</a>
      <a class="purge" href="/w/index.php?title=AppArmor&action=purge">Purge</a>
     </div>

     <div class="col3">
      <span class="headline user">User</span>
      <a class="preferences user-logged-in" href="/wiki/Special:Preferences">Preferences</a>
      <a class="watchlist user-logged-in" href="/wiki/Special:Watchlist">Watchlist</a>
      <a class="contributions user-logged-in" href="/wiki/Special:Contributions">Contributions</a>
      <a class="logout user-logged-in" href="/w/index.php?title=Special:UserLogout&returnto=AppArmor">Logout</a>
      <a class="createaccount user-logged-out" href="/w/index.php?title=Special:CreateAccount&returnto=AppArmor">Create account</a>
      <a class="login user-logged-out" href="/w/index.php?title=Special:UserLogin&returnto=AppArmor">Login</a>
     </div>
    </div>
   </div>

   <a class="donate" href="/wiki/Donate">Donate</a>
  </div>
 </div>
   <div id="top-bar-search-modal" class="modal fade" tabindex="-1" role="dialog">
   <div class="modal-dialog" role="document">
     <div class="modal-content">
       <div class="modal-header">
         <h5 class="modal-title"></h5><span class="close" data-dismiss="modal" aria-label="Close">&times;</span>
       </div>
       <div class="modal-body">
       </div>
     </div>
   </div>
 </div>
</div><div id="fly-in-notification-panel">
 <div class="inner-wrapper">
  <i class="close-panel fas fa-times"></i>
 </div>
</div>
</p>
<div class="thumb tright"><div class="thumbinner" style="width:302px;"><a href="/wiki/File:2000px-AppArmor_logo.svg.png" class="image"><img alt="" src="/w/images/thumb/3/3f/2000px-AppArmor_logo.svg.png/300px-2000px-AppArmor_logo.svg.png" decoding="async" width="300" height="300" class="thumbimage" srcset="/w/images/thumb/3/3f/2000px-AppArmor_logo.svg.png/450px-2000px-AppArmor_logo.svg.png 1.5x, /w/images/thumb/3/3f/2000px-AppArmor_logo.svg.png/600px-2000px-AppArmor_logo.svg.png 2x" data-file-width="2000" data-file-height="2000" /></a>  <div class="thumbcaption"><div class="magnify"><a href="/wiki/File:2000px-AppArmor_logo.svg.png" class="internal" title="Enlarge"></a></div>AppArmor Icon</div></div></div>
<div id="toc" class="toc" role="navigation" aria-labelledby="mw-toc-heading"><input type="checkbox" role="button" id="toctogglecheckbox" class="toctogglecheckbox" style="display:none" /><div class="toctitle" lang="en" dir="ltr"><h2 id="mw-toc-heading">Contents</h2><span class="toctogglespan"><label class="toctogglelabel" for="toctogglecheckbox"></label></span></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Introduction"><span class="tocnumber">1</span> <span class="toctext">Introduction</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Installation"><span class="tocnumber">2</span> <span class="toctext">Installation</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="#Qubes_Users_Note"><span class="tocnumber">2.1</span> <span class="toctext">Qubes Users Note</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="#Install_all_AppArmor_Profiles"><span class="tocnumber">2.2</span> <span class="toctext">Install all AppArmor Profiles</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="#Installation_2"><span class="tocnumber">2.2.1</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="#Enabling"><span class="tocnumber">2.2.2</span> <span class="toctext">Enabling</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="#Install_Select_AppArmor_Profiles"><span class="tocnumber">2.3</span> <span class="toctext">Install Select AppArmor Profiles</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Profile_Unloading"><span class="tocnumber">2.4</span> <span class="toctext">Profile Unloading</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Common_Operations"><span class="tocnumber">3</span> <span class="toctext">Common Operations</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Maintain_Tor_Browser_Functionality"><span class="tocnumber">3.1</span> <span class="toctext">Maintain Tor Browser Functionality</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#Manually_Updating_Other_Whonix_™_AppArmor_Profiles"><span class="tocnumber">3.2</span> <span class="toctext">Manually Updating Other Whonix ™ AppArmor Profiles</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#AppArmor_Notifications"><span class="tocnumber">3.3</span> <span class="toctext">AppArmor Notifications</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#apparmor-info"><span class="tocnumber">3.3.1</span> <span class="toctext">apparmor-info</span></a></li>
<li class="toclevel-3 tocsection-14"><a href="#apparmor-notify"><span class="tocnumber">3.3.2</span> <span class="toctext">apparmor-notify</span></a></li>
<li class="toclevel-3 tocsection-15"><a href="#Manual_Notifications_Inspection"><span class="tocnumber">3.3.3</span> <span class="toctext">Manual Notifications Inspection</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-16"><a href="#More_Profiles"><span class="tocnumber">3.4</span> <span class="toctext">More Profiles</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Fix_Profiles"><span class="tocnumber">3.5</span> <span class="toctext">Fix Profiles</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-18"><a href="#Support"><span class="tocnumber">4</span> <span class="toctext">Support</span></a></li>
<li class="toclevel-1 tocsection-19"><a href="#Development"><span class="tocnumber">5</span> <span class="toctext">Development</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#Footnotes"><span class="tocnumber">6</span> <span class="toctext">Footnotes</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Introduction">Introduction</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=1" title="Edit section: Introduction">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<p>According to debian.org: <sup id="cite_ref-1" class="reference"><a href="#cite_note-1">&#91;1&#93;</a></sup>
</p>
<blockquote><p>AppArmor is a Mandatory Access Control framework. When enabled, AppArmor confines programs according to a set of rules that specify what files a given program can access. This proactive approach helps protect the system against both known and unknown vulnerabilities.</p></blockquote>
<p>Whonix ™ developer <a target="_blank" rel="noreferrer noopener" class="external text" href="https://forums.whonix.org/users/madaidan/activity">madaidan</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/users/madaidan/activity" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> has noted: 
<sup id="cite_ref-madaidan_MAC_2-0" class="reference"><a href="#cite_note-madaidan_MAC-2">&#91;2&#93;</a></sup>
</p>
<blockquote><p>Mandatory access control (MAC) systems give fine-grained control over what programs can access. This means that your browser won't have access to your entire home directory or similarly.
The most used MAC systems are SELinux and AppArmor. SELinux is a lot more secure than AppArmor as it is more fine-grained. For example, it's inode-based rather than path-based, allows enforcing <a target="_blank" rel="noreferrer noopener" class="external text" href="https://selinuxproject.org/page/ObjectClassesPerms">significantly stronger restrictions</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://selinuxproject.org/page/ObjectClassesPerms" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>, can <a target="_blank" rel="noreferrer noopener" class="external text" href="https://kernsec.org/files/lss2015/vanderstoep.pdf">filter kernel ioctls</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://kernsec.org/files/lss2015/vanderstoep.pdf" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> and much more. Unfortunately, this comes at the cost of being much more difficult to use and harder to learn so AppArmor may be preferred by some.</p></blockquote>
<p>AppArmor provides a number of advantages: <sup id="cite_ref-3" class="reference"><a href="#cite_note-3">&#91;3&#93;</a></sup>
</p>
<ul><li>It protects the operating system and applications from external or internal threats, including zero-day attacks.</li>
<li>"Good behavior" is enforced and it mitigates exploits via unknown application flaws.</li>
<li>AppArmor security policies define the system resources that individual applications can access, and with what privileges. For instance:
<ul><li>Network access.</li>
<li>Raw socket access.</li>
<li>Read, write or execute file permissions on specific paths.</li></ul></li></ul>
<p>Some AppArmor profiles for some default installed applications such as <a href="/wiki/Tor" title="Tor">Tor</a>, <a href="/wiki/Sdwdate" title="Sdwdate">sdwdate</a> and <a href="/wiki/Kloak" class="mw-redirect" title="Kloak">kloak</a> are enforced by default. To see which, run.
</p><p><div class="code-select ">sudo aa-status</div>
</p><p>More AppArmor profiles are available for testers.
</p>
<h1><span class="mw-headline" id="Installation">Installation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=2" title="Edit section: Installation">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="info-box &#123;&#123;&#123;addToClass&#125;&#125;&#125;">
<p><a href="/wiki/File:Cornues.png" class="image"><img alt="Testers only!" src="/w/images/thumb/7/7f/Cornues.png/40px-Cornues.png" decoding="async" width="40" height="42" srcset="/w/images/thumb/7/7f/Cornues.png/60px-Cornues.png 1.5x, /w/images/thumb/7/7f/Cornues.png/80px-Cornues.png 2x" data-file-width="760" data-file-height="800" /></a> Testers only!
</p>
</div>
<p>It is recommended to use the Whonix ™ <a target="_blank" rel="noreferrer noopener" class="external text" href="https://en.wikipedia.org/wiki/AppArmor">AppArmor</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://en.wikipedia.org/wiki/AppArmor" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> profiles which are available for various programs that run in both Whonix-Gateway ™ and Whonix-Workstation ™, such as Tor, Tor Browser, Thunderbird and more. The profiles are easy to apply and provide a considerable security benefit.
</p>
<h2><span class="mw-headline" id="Qubes_Users_Note">Qubes Users Note</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=3" title="Edit section: Qubes Users Note">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="info-box &#123;&#123;&#123;addToClass&#125;&#125;&#125;">
<p><a href="/wiki/File:Ambox_notice.png" class="image"><img alt="Qubes-Whonix ™ Note" src="/w/images/thumb/c/c8/Ambox_notice.png/40px-Ambox_notice.png" decoding="async" width="40" height="40" srcset="/w/images/thumb/c/c8/Ambox_notice.png/60px-Ambox_notice.png 1.5x, /w/images/thumb/c/c8/Ambox_notice.png/80px-Ambox_notice.png 2x" data-file-width="2000" data-file-height="2000" /></a> <a href="/wiki/Qubes-Whonix" class="mw-redirect" title="Qubes-Whonix">Qubes-Whonix ™</a> users require some extra steps to set up AppArmor. <a href="/wiki/Non-Qubes-Whonix" title="Non-Qubes-Whonix">Non-Qubes-Whonix ™</a> users can skip this section. 
<sup id="cite_ref-4" class="reference"><a href="#cite_note-4">&#91;4&#93;</a></sup>
<sup id="cite_ref-5" class="reference"><a href="#cite_note-5">&#91;5&#93;</a></sup>
</p>
</div>
<div class="toccolours mw-collapsible mw-collapsed">
<p>If you are interested, click on Expand on the right.
</p>
<div class="mw-collapsible-content">
<p>AppArmor is enabled by default. No extra steps required.
</p>
</div>
</div>
<h2><span class="mw-headline" id="Install_all_AppArmor_Profiles">Install all AppArmor Profiles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=4" title="Edit section: Install all AppArmor Profiles">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Installation_2">Installation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=5" title="Edit section: Installation">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>The easiest method is to install all available AppArmor profiles. This can result in a few profiles being enforced for software that is not installed, but this will not have any adverse impacts.
</p><p>At time of writing it is not required to change <a href="/wiki/Project-APT-Repository" title="Project-APT-Repository">Whonix ™ APT repository</a>.
</p><p>Note written on 29 June 2022: In a future Whonix ™ version 16.0.5.4 (unreleased at time of writing), the following packages will be installed by default. (<a target="_blank" rel="noreferrer noopener" class="external text" href="https://forums.whonix.org/t/install-apparmor-profiles-apparmor-profiles-extra-apparmor-profiles-kicksecure-by-default/13753">forum discussion</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/t/install-apparmor-profiles-apparmor-profiles-extra-apparmor-profiles-kicksecure-by-default/13753" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>)
</p>
<div class="info-box">
<p>Install package(s) <code>apparmor-profiles apparmor-profiles-extra apparmor-profiles-kicksecure</code>.
</p><p><b>A.</b> <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Operating_System_Software_and_Updates">Update the package lists and upgrade the system</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Operating_System_Software_and_Updates" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.
</p><p><div class="code-select ">sudo apt update &amp;&amp; sudo apt full-upgrade</div>
</p><p><b>B.</b> Install the <code>apparmor-profiles apparmor-profiles-extra apparmor-profiles-kicksecure</code> package(s).
</p><p>Using <code>apt</code> command line <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends">parameter <code>--no-install-recommends</code></a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> is in most cases optional.
</p><p><div class="code-select ">sudo apt install --no-install-recommends apparmor-profiles apparmor-profiles-extra apparmor-profiles-kicksecure</div>
</p><p><b>C.</b> Done.
</p><p>The procedure of installing package(s) <code>apparmor-profiles apparmor-profiles-extra apparmor-profiles-kicksecure</code> is complete.
</p>
</div>
<h3><span class="mw-headline" id="Enabling">Enabling</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=6" title="Edit section: Enabling">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Some profiles in the <code>apparmor-profiles</code> and <code>apparmor-profiles-extra</code> packages are not enforced by default because the Debian maintainers do not believe they are mature enough. <sup id="cite_ref-6" class="reference"><a href="#cite_note-6">&#91;6&#93;</a></sup>
</p>
<blockquote><p>apparmor-profiles provides various experimental AppArmor profiles. Do not expect these profiles to work out-of-the-box.
</p><p>These profiles are not mature enough to be shipped in enforce mode by default on Debian. They are shipped in complain mode so that users can test them, choose which are desired, and help improve them upstream if needed.
</p><p>
Some even more experimental profiles are included in folder <code>/usr/share/apparmor/extra-profiles</code>. </p></blockquote>
<div class="info-box">
<p><b>1.</b> Check which profiles are in complain mode (not actually providing protection) and which are in enforce mode (providing actual protection).
</p><p>Run.
</p><p><div class="code-select ">sudo aa-status</div>
</p><p><b>2.</b> Locate the profile to enable.
</p><p>To enable a profile which is currently in complain mode, locate it in folder <code>/etc/apparmor.d</code>.
</p><p><div class="code-select ">ls /etc/apparmor.d</div>
</p><p><b>3.</b> Enable the profile.
</p><p>After locating the relevant profile, enable it. For example.
</p><p>(The following example is already enforced by default if installed as per above.)
</p><p><div class="code-select ">sudo aa-enforce /etc/apparmor.d/home.tor-browser.firefox</div>
</p><p>It might be inadvisable or unsuitable to enable all available AppArmor profiles.
</p><p><b>4.</b> Inspect other available AppArmor profiles.
</p><p>The <code>/usr/share/apparmor/extra-profiles</code> folder has additional AppArmor profiles.
</p><p><div class="code-select ">ls /usr/share/apparmor/extra-profiles</div>
</p><p><b>5.</b> Copy relevant AppArmor profiles.
</p><p>Testers only!
</p>
<ul><li>Option <b>A)</b> If any of these applications are in use, copy the profile over to folder <code>/etc/apparmor.d</code>. Example: <div class="code-select ">sudo cp /usr/share/apparmor/extra-profiles/bin.netstat /etc/apparmor.d</div></li>
<li>Option <b>B)</b> Copy all profiles. <div class="code-select ">sudo cp /usr/share/apparmor/extra-profiles/* /etc/apparmor.d</div></li></ul>
<p><b>6.</b> View all avaialble AppArmor profiles in the <code>/etc/apparmor.d</code> folder.
</p><p>Optional.
</p><p><div class="code-select ">ls -la /etc/apparmor.d/*</div>
</p><p>Alternatively also any other tool such as a graphical file manager could be used.
</p><p><b>7.</b> Enable the additional profile(s).
</p>
<ul><li>Option <b>A)</b> Enable a profile. Example: <div class="code-select ">sudo aa-enforce /etc/apparmor.d/bin.netstat</div></li>
<li>Option <b>B)</b> Enable all profiles. <div class="code-select ">sudo aa-enforce /etc/apparmor.d/*</div></li></ul>
</div>
<h2><span class="mw-headline" id="Install_Select_AppArmor_Profiles">Install Select AppArmor Profiles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=7" title="Edit section: Install Select AppArmor Profiles">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="toccolours mw-collapsible mw-collapsed">
<p>Click on Expand on the right side.
</p>
<div class="mw-collapsible-content">
<p><a href="/wiki/Update" class="mw-redirect" title="Update">Update</a> your package lists.
</p><p><div class="code-select ">sudo apt update</div>
</p>
<hr />
<p><code>apparmor-profiles</code>
</p>
<ul><li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://packages.debian.org/bullseye/apparmor-profiles"><code>apparmor-profiles</code> package description</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://packages.debian.org/bullseye/apparmor-profiles" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li>
<li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://packages.debian.org/bullseye/all/apparmor-profiles/filelist"><code>apparmor-profiles</code> file list</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://packages.debian.org/bullseye/all/apparmor-profiles/filelist" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li></ul>
<p><div class="code-select ">sudo apt install apparmor-profiles</div>
</p>
<hr />
<p><code>apparmor-profiles-extra</code>
</p>
<ul><li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://packages.debian.org/bullseye/apparmor-profiles-extra"><code>apparmor-profiles-extra</code> package description</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://packages.debian.org/bullseye/apparmor-profiles-extra" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li>
<li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://packages.debian.org/bullseye/all/apparmor-profiles-extra/filelist"><code>apparmor-profiles-extra</code> file list</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://packages.debian.org/bullseye/all/apparmor-profiles-extra/filelist" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li></ul>
<p><div class="code-select ">sudo apt install apparmor-profiles-extra</div>
</p>
<hr />
<p>Profile for <a href="/wiki/Tor_Browser" title="Tor Browser">Tor Browser</a>. Useful in Whonix-Workstation ™. <sup id="cite_ref-7" class="reference"><a href="#cite_note-7">&#91;7&#93;</a></sup>
</p><p><div class="code-select ">sudo apt install apparmor-profile-torbrowser</div>
</p>
<hr />
<p>Profile for the <a href="/wiki/HexChat" title="HexChat">HexChat</a> client. Useful in Whonix-Workstation ™. (Soon to be renamed <code>apparmor-profile-hexchat</code>.)
</p><p><div class="code-select ">sudo apt install apparmor-profile-xchat</div>
</p>
<hr />
<p>Profile for the <a href="/wiki/E-Mail#Mozilla_Thunderbird_with_TorBirdy" title="E-Mail">Mozilla Thunderbird</a> <a href="/wiki/E-Mail" title="E-Mail">E-Mail</a> client. Useful in Whonix-Workstation ™. (Soon to be renamed <code>apparmor-profile-thunderbird</code>.)
</p><p><div class="code-select ">sudo apt install apparmor-profile-thunderbird</div>
</p>
</div>
</div>
<h2><span class="mw-headline" id="Profile_Unloading">Profile Unloading</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=8" title="Edit section: Profile Unloading">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The name of the specific profile to unload must be known in advance; refer to the <a href="#Install_Select_AppArmor_Profiles">list</a> above.
</p><p><b>1.</b> If it is necessary to disable an AppArmor profile, first list those which are available.
</p><p><div class="code-select ">ls /etc/apparmor.d/</div>
</p><p>Or.
</p><p><div class="code-select ">sudo aa-status</div>
</p><p><b>2.</b> Once a profile is loaded in the kernel, it can be easily removed.
</p><p><div class="code-select ">sudo aa-disable /etc/apparmor.d/profile-name</div>
</p><p>This command expects the profile file to exist, so if it has been manually deleted or removed via <code>apt purge</code>, it can only be unloaded by rebooting.
</p><p><b>3.</b> Done.
</p><p>The process of disabling the AppArmor profile has been completed.
</p><p><b>4.</b> Verification.
</p><p>Optional. To confirm, use the <code>aa-status</code> command.
</p><p><div class="code-select ">sudo aa-status</div>
</p>
<h1><span class="mw-headline" id="Common_Operations">Common Operations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=9" title="Edit section: Common Operations">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<h2><span class="mw-headline" id="Maintain_Tor_Browser_Functionality">Maintain Tor Browser Functionality</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=10" title="Edit section: Maintain Tor Browser Functionality">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Tor Browser upgrades frequently break the Whonix ™ AppArmor profile used to contain it. Even when AppArmor-related fixes are confirmed in forums.whonix.org, most often updated, fixed packages are immediately made available to Whonix ™ stable or even the developer version.
</p><p>If Tor Browser is non-functional with the available AppArmor profile, follow these steps to rectify the problem.
</p>
<div class="info-box">
<p><b>1.</b> Open a terminal in Whonix-Workstation ™ (<code>whonix-ws-16</code>).
</p><p><code>whonix-ws-16</code> &#8594; <code>Xfce Terminal</code>
</p><p><b>2.</b> List the available AppArmor profiles.
</p><p><div class="code-select ">ls /etc/apparmor.d/</div>
</p><p><b>3.</b> Edit the Tor Browser AppArmor profile.
</p><p>Note: change the name of the file to match whatever version is installed on the system.
</p><p><div class="code-select ">sudoedit /etc/apparmor.d/home.tor-browser.firefox</div>
</p><p><b>4.</b> Navigate to the Whonix ™ Github resource for AppArmor.
</p><p>The latest git commits can be found <a target="_blank" rel="noreferrer noopener" class="external text" href="https://github.com/Whonix/apparmor-profile-torbrowser">here</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://github.com/Whonix/apparmor-profile-torbrowser" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.
</p><p>Select <code>Code</code> &#8594; <code>etc/apparmor.d</code> &#8594; <code>home.tor-browser.firefox</code>
</p><p>Select the <code>Raw</code> button on the right-hand side. <sup id="cite_ref-8" class="reference"><a href="#cite_note-8">&#91;8&#93;</a></sup>
</p>
<div class="info-box &#123;&#123;&#123;addToClass&#125;&#125;&#125;">
<p><a href="/wiki/File:Ambox_notice.png" class="image"><img alt="Info" src="/w/images/thumb/c/c8/Ambox_notice.png/40px-Ambox_notice.png" decoding="async" width="40" height="40" srcset="/w/images/thumb/c/c8/Ambox_notice.png/60px-Ambox_notice.png 1.5x, /w/images/thumb/c/c8/Ambox_notice.png/80px-Ambox_notice.png 2x" data-file-width="2000" data-file-height="2000" /></a> It is recommended to check the profile does not contain any unexpected content. For greater security, utilize a different viewer and/or retrieve the profile using git and perform git commit gpg verification.
</p>
</div>
<p>Cut and paste the profile text into the old Tor Browser profile which is open in nano. Save and exit.
</p><p><b>5.</b> Enforce the new Tor Browser profile.
</p><p>In the command below, change the name of the file to match whatever version is installed on the system. 
</p><p>In Whonix-Workstation ™ (<code>whonix-ws-16</code>), run.
</p><p><div class="code-select ">sudo aa-enforce /etc/apparmor.d/home.tor-browser.firefox</div>
</p><p><b>6.</b> Shutdown Whonix-Workstation ™ (<code>whonix-ws-16</code>).
</p><p><b>7.</b> Restart Whonix-Workstation ™ (<code>anon-whonix</code>).
</p><p>Launch Tor Browser. If everything has been applied correctly, Tor Browser will have full functionality. If the following AppArmor warning appears, it can be safely ignored.
</p>
<pre>Profile: /etc/apparmor.d/home.tor-browser.firefox Operation: open Name: /dev/ Denied: r Logfile: /var/log/kern.log For more information, please see: https://wiki.ubuntu.com/DebuggingApparmor
</pre>
<p><b>8.</b> Manually check AppArmor is correctly running and enforced.
</p><p>In a terminal, run.
</p><p><div class="code-select ">sudo aa-status</div>
</p><p>The output should show the Tor Browser profile is loaded and in enforce mode.
</p>
</div>
<h2><span id="Manually_Updating_Other_Whonix_.E2.84.A2_AppArmor_Profiles"></span><span class="mw-headline" id="Manually_Updating_Other_Whonix_™_AppArmor_Profiles">Manually Updating Other Whonix ™ AppArmor Profiles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=11" title="Edit section: Manually Updating Other Whonix ™ AppArmor Profiles">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The same method can be used to resolve other AppArmor problems impacting full functionality of applications in Whonix ™. For instance, the <a href="/wiki/Systemcheck" class="mw-redirect" title="Systemcheck"><code>systemcheck</code></a> AppArmor profile previously caused continuous "denied" messages in <a href="/wiki/Qubes-Whonix" class="mw-redirect" title="Qubes-Whonix">Qubes-Whonix ™</a>. <sup id="cite_ref-9" class="reference"><a href="#cite_note-9">&#91;9&#93;</a></sup> Correcting this issue was quite simple: <sup id="cite_ref-10" class="reference"><a href="#cite_note-10">&#91;10&#93;</a></sup>
</p>
<ol><li>Navigate to the <a target="_blank" rel="noreferrer noopener" class="external text" href="https://raw.githubusercontent.com/Whonix/systemcheck/master/etc/apparmor.d/usr.bin.systemcheck">raw, updated <code>systemcheck</code> profile</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://raw.githubusercontent.com/Whonix/systemcheck/master/etc/apparmor.d/usr.bin.systemcheck" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.</li>
<li>Replace the existing content in <code>/etc/apparmor.d/usr.bin.systemcheck</code> with the updated github content, in both Templates <code>whonix-gw-16</code> and <code>whonix-ws-16</code>.</li>
<li>Shut down both Templates and any running instances of <code>sys-whonix</code> and <code>anon-whonix</code>.</li>
<li>Restart <code>sys-whonix</code> and <code>anon-whonix</code>.</li></ol>
<h2><span class="mw-headline" id="AppArmor_Notifications">AppArmor Notifications</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=12" title="Edit section: AppArmor Notifications">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="apparmor-info">apparmor-info</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=13" title="Edit section: apparmor-info">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a target="_blank" rel="noreferrer noopener" class="external text" href="https://github.com/Kicksecure/helper-scripts/blob/master/usr/sbin/apparmor-info"><code>apparmor-info</code></a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://github.com/Kicksecure/helper-scripts/blob/master/usr/sbin/apparmor-info" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> is a helper utility to simplify viewing AppArmor logs. It parses AppArmor logs, hides unnecessary information <sup id="cite_ref-11" class="reference"><a href="#cite_note-11">&#91;11&#93;</a></sup> and removes duplicates.
</p><p><div class="code-select ">sudo apparmor-info --boot | grep DENIED</div>
</p>
<h3><span class="mw-headline" id="apparmor-notify">apparmor-notify</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=14" title="Edit section: apparmor-notify">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a target="_blank" rel="noreferrer noopener" class="external text" href="https://packages.debian.org/bullseye/apparmor-notify">apparmor-notify</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://packages.debian.org/bullseye/apparmor-notify" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> is not installed by default. <sup id="cite_ref-12" class="reference"><a href="#cite_note-12">&#91;12&#93;</a></sup> By installing it, desktop notifications would appear concerning AppArmor denied messages, which are stored in file <code>/var/log/kern.log</code>. 
</p><p>To install:
</p>
<div class="info-box">
<p>Install package(s) <code>apparmor-notify</code>.
</p><p><b>A.</b> <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Operating_System_Software_and_Updates">Update the package lists and upgrade the system</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Operating_System_Software_and_Updates" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.
</p><p><div class="code-select ">sudo apt update &amp;&amp; sudo apt full-upgrade</div>
</p><p><b>B.</b> Install the <code>apparmor-notify</code> package(s).
</p><p>Using <code>apt</code> command line <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends">parameter <code>--no-install-recommends</code></a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> is in most cases optional.
</p><p><div class="code-select ">sudo apt install --no-install-recommends apparmor-notify</div>
</p><p><b>C.</b> Done.
</p><p>The procedure of installing package(s) <code>apparmor-notify</code> is complete.
</p>
</div>
<p>If <code>apparmor-notify</code> is manually installed, then on occasion an application may be functional but AppArmor "denied" messages constantly appear. Rather than updating the relevant AppArmor profile(s), it is possible to disable notifications instead.
</p><p>In the offending Whonix ™ (App)VM, launch Xfce Terminal and run.
</p><p><div class="code-select ">sudo killall aa-notify</div>
</p><p>To revert this change, reboot the VM.
</p>
<h3><span class="mw-headline" id="Manual_Notifications_Inspection">Manual Notifications Inspection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=15" title="Edit section: Manual Notifications Inspection">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Use of <a href="#apparmor-info"><code>apparmor-info</code></a> is simpler.
</p>
<div class="info-box">
<p><b>1.</b> Manually inspect relevant logs.
</p><p>Open file <code>/var/log/kern.log</code> in an editor with administrative (root) write permissions.
</p>
<div class="info-box">
<p>This box uses <a target="_blank" rel="noreferrer noopener" class="external text" href="https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599"><code>sudoedit</code> for better security</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/t/use-sudoedit-in-whonix-documentation/7599" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>. This is an example and other tools can also achieve the same goal. If this example does not work for you or if you are not using Whonix ™, please refer to <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Software#Text_Editor">this link</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Software#Text_Editor" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.
</p><p><div class="code-select ">sudoedit /var/log/kern.log</div>
</p>
</div>
<p><b>2.</b> Show denied AppArmor messages of any age.
</p><p>Run.
</p><p><div class="code-select ">sudo cat /var/log/kern.log | grep DENIED</div>
</p><p><b>3.</b> <i>Optional</i>: Keep watching the file as it is appended.
</p><p>This is useful for reproducing AppArmor denied messages and testing amended profiles.
</p><p><div class="code-select ">sudo tail -f /var/log/kern.log | grep --line-buffered DENIED</div>
</p>
</div>
<h2><span class="mw-headline" id="More_Profiles">More Profiles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=16" title="Edit section: More Profiles">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>It is possible to utilize profiles by other vendors, but this is unsupported by Whonix ™ developers. As a reminder, it is not necessary to install AppArmor profiles for any applications that are unlikely to be used (such as dovecot). Additional options include:
</p>
<ol><li>Debian has packages that can be <a target="_blank" rel="noreferrer noopener" class="external text" href="https://wiki.debian.org/AppArmor/HowToUse#Enable_.2F_install_more_profiles">easily installed via the APT package manager</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://wiki.debian.org/AppArmor/HowToUse#Enable_.2F_install_more_profiles" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.</li>
<li>Ubuntu also <a target="_blank" rel="noreferrer noopener" class="external text" href="https://bazaar.launchpad.net/~apparmor-dev/apparmor-profiles/master/files/head:/ubuntu/16.10/">provides profiles</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://bazaar.launchpad.net/~apparmor-dev/apparmor-profiles/master/files/head:/ubuntu/16.10/" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>. It is not easy to download these as a package to be installed in Debian. Further, the profiles may or may not differ from (or complement) profiles listed earlier.</li>
<li>Advanced users can attempt to create additional, strict AppArmor profiles by executing: <sup id="cite_ref-madaidan_MAC_2-1" class="reference"><a href="#cite_note-madaidan_MAC-2">&#91;2&#93;</a></sup></li></ol>
<p><div class="code-select ">aa-genprof $path_to_program</div>
</p><p>Then open the program and use it as normal. AppArmor detects which files need to be accessed and adds them to the profile if you choose. This is insufficient for high quality profiles though; refer to the <a target="_blank" rel="noreferrer noopener" class="external text" href="https://gitlab.com/apparmor/apparmor/-/wikis/Documentation">AppArmor documentation</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://gitlab.com/apparmor/apparmor/-/wikis/Documentation" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> for further details.
</p>
<h2><span class="mw-headline" id="Fix_Profiles">Fix Profiles</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=17" title="Edit section: Fix Profiles">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>1.</b> Put folder <code>/etc/apparmor.d</code> under git version control.
</p><p>Git is a useful tool to record which files in a folder changed in what way.
</p>
<div class="info-box">
<p>Git setup for folder <code>/etc/apparmor.d</code>.
</p>
<div class="info-box">
<p>Install package(s) <code>git auditd</code>.
</p><p><b>A.</b> <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Operating_System_Software_and_Updates">Update the package lists and upgrade the system</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Operating_System_Software_and_Updates" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.
</p><p><div class="code-select ">sudo apt update &amp;&amp; sudo apt full-upgrade</div>
</p><p><b>B.</b> Install the <code>git auditd</code> package(s).
</p><p>Using <code>apt</code> command line <a target="_blank" rel="noreferrer noopener" class="external text" href="https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends">parameter <code>--no-install-recommends</code></a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://www.kicksecure.com/wiki/Install_Software#--no-install-recommends" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup> is in most cases optional.
</p><p><div class="code-select ">sudo apt install --no-install-recommends git auditd</div>
</p><p><b>C.</b> Done.
</p><p>The procedure of installing package(s) <code>git auditd</code> is complete.
</p>
</div>
<p>Change directory to folder <code>/etc/apparmor.d</code>.
</p><p><div class="code-select ">cd /etc/apparmor.d</div>
</p><p>Initialize git in that folder.
</p><p><div class="code-select ">sudo git init</div>
</p><p>Git needs an e-mail address. That e-mail address doesn't need to actually exist. That e-mail address would appear in git commit change logs if that git repository was ever pushed to any remote. If only used locally, the default <code>you@example.com</code> could be kept. Otherwise, the user may change <code>you@example.com</code> to any e-mail address of their choice.
</p><p><div class="code-select ">sudo git config user.email &quot;you@example.com&quot;</div>
</p><p>Git needs an name. That name address doesn't need to actually exist. That name would appear in git commit change logs if that git repository was ever pushed to any remote. If only used locally, the default <code>Your Name</code> could be kept. Otherwise, the user may change <code>Your Name</code> to any name of their choice.
</p><p><div class="code-select ">sudo git config user.name &quot;Your Name&quot;</div>
</p><p>Add all files in that folder to git.
</p><p><div class="code-select ">sudo git add -A</div>
</p><p>Commit all files to git. <sup id="cite_ref-13" class="reference"><a href="#cite_note-13">&#91;13&#93;</a></sup>
</p><p><div class="code-select ">sudo git commit -a -m .</div>
</p>
</div>
<p><b>2.</b> Open your application/s which caused the Denied/Allowed messages.
</p><p><b>3.</b> Use <code>aa-logprof</code> to correct them. <sup id="cite_ref-14" class="reference"><a href="#cite_note-14">&#91;14&#93;</a></sup>
</p><p><div class="code-select ">sudo aa-logprof</div>
</p><p>This is an example for fixing the AppArmor profile for Tor Browser.
</p><p>Sample printout:
</p>
<pre>Reading log entries from /var/log/audit/audit.log.
Updating AppArmor profiles in /etc/apparmor.d.
Enforce-mode changes:

Profile:  /**/*-browser/Browser/firefox
Path:     /sys/bus/pci/devices/
New Mode: r
Severity: 4

 [1 - #include &lt;abstractions/totem&gt;]
  2 - /sys/bus/pci/devices/ r, 
(A)llow / [(D)eny] / (I)gnore / (G)lob / Glob with (E)xtension / (N)ew / Audi(t) / Abo(r)t / (F)inish
</pre>
<p>Answer with A
</p><p>Sample printout:
</p>
<pre>Adding #include &lt;abstractions/totem&gt; to profile.
Deleted 19 previous matching profile entries.

Profile:  /**/*-browser/Browser/firefox
Path:     /proc/1342/cgroup
New Mode: owner r
Severity: 6

 [1 - owner /proc/*/cgroup r,]
  2 - owner /proc/1342/cgroup r, 
(A)llow / [(D)eny] / (I)gnore / (G)lob / Glob with (E)xtension / (N)ew / Audi(t) / (O)wner permissions off / Abo(r)t / (F)inish
</pre>
<p>Answer with A
</p><p>Sample printout:
</p>
<pre>Adding owner /proc/*/cgroup r, to profile.

= Changed Local Profiles =

The following local profiles were changed. Would you like to save them?

 [1 - /**/*-browser/Browser/firefox]
(S)ave Changes / Save Selec(t)ed Profile / [(V)iew Changes] / View Changes b/w (C)lean profiles / Abo(r)t
</pre>
<p>Answer with S
</p><p>Sample printout:
</p>
<pre>Writing updated profile for /**/*-browser/Browser/firefox.
</pre>
<p>Done.
</p><p><b>4.</b> Re-run any applications that had any AppArmor issues
</p><p><b>5.</b> Repeat step 2 and 3 until there are no new AppArmor denied or allowed messages.
</p><p>It should give you similar output if there is nothing left to resolve:
</p>
<pre>Reading log entries from /var/log/audit/audit.log.
Updating AppArmor profiles in /etc/apparmor.d.
Enforce-mode changes:
</pre>
<p><b>6.</b> See which files were modified by <code>aa-logprof</code>.
</p><p>From the same folder.
</p><p><div class="code-select ">git status</div>
</p><p><code>git</code> will show which files have been modified.
</p><p>Sample printout:
</p>
<pre>On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git restore &lt;file&gt;..." to discard changes in working directory)
	modified:   home.tor-browser.firefox

no changes added to commit (use "git add" and/or "git commit -a")
</pre>
<p><b>7.</b> Open the modified file(s) with a text editor.
</p><p><div class="code-select ">sudoedit /etc/apparmor.d/home.tor-browser.firefox</div>
</p><p><b>8.</b> Submit fixes to developers.
</p><p>Ideally to github:
</p>
<ul><li><a target="_blank" rel="noreferrer noopener" class="external free" href="https://github.com/Kicksecure/?q=apparmor&amp;type=all&amp;language=&amp;sort=">https://github.com/Kicksecure/?q=apparmor&amp;type=all&amp;language=&amp;sort=</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://github.com/Kicksecure/?q=apparmor&amp;type=all&amp;language=&amp;sort=" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li>
<li>Related: <a href="/wiki/Dev/git#Search_the_Source_Code" class="mw-redirect" title="Dev/git">Search the Source Code</a> and <a href="/wiki/Dev/git#Find_Files" class="mw-redirect" title="Dev/git">Find Files</a>.</li>
<li>In doubt ask in <a target="_blank" rel="noreferrer noopener" class="external free" href="https://forums.whonix.org/c/apparmor/14">https://forums.whonix.org/c/apparmor/14</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/c/apparmor/14" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup>.</li></ul>
<h1><span class="mw-headline" id="Support">Support</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=18" title="Edit section: Support">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li>Need help? Visit the <a target="_blank" rel="noreferrer noopener" class="external text" href="https://forums.whonix.org/c/apparmor">Whonix ™ AppArmor Forum</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/c/apparmor" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li>
<li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://forums.whonix.org/t/profile-creation-advice/1127">Profile Creation Advice</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/t/profile-creation-advice/1127" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li></ul>
<h1><span class="mw-headline" id="Development">Development</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=19" title="Edit section: Development">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<ul><li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://forums.whonix.org/t/whonix-apparmor-profiles-development-discussion/108">Whonix ™ AppArmor Profiles Development Discussion</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/t/whonix-apparmor-profiles-development-discussion/108" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li>
<li><a target="_blank" rel="noreferrer noopener" class="external text" href="https://phabricator.whonix.org/tag/apparmor/">Open Tasks</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://phabricator.whonix.org/tag/apparmor/" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></li></ul>
<h1><span class="mw-headline" id="Footnotes">Footnotes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=AppArmor&amp;action=edit&amp;section=20" title="Edit section: Footnotes">edit</a><span class="mw-editsection-bracket">]</span></span></h1>
<div class="info-box">
<p>This box <code>Expand All</code> is mostly useful for wiki editors. Users can safely ignore it.
</p><p><button class="expand-or-collapse-all-button">
<span class="expand-text">Expand all</span>
<span class="collapse-text">Collapse all</span>
</button>
</p>
</div>
<div class="reflist" style="list-style-type: decimal;">
<div class="mw-references-wrap mw-references-columns"><ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><a href="#cite_ref-1">↑</a></span> <span class="reference-text">
<a target="_blank" rel="noreferrer noopener" class="external free" href="https://wiki.debian.org/AppArmor">https://wiki.debian.org/AppArmor</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://wiki.debian.org/AppArmor" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></span>
</li>
<li id="cite_note-madaidan_MAC-2"><span class="mw-cite-backlink">↑ <sup><a href="#cite_ref-madaidan_MAC_2-0">2.0</a></sup> <sup><a href="#cite_ref-madaidan_MAC_2-1">2.1</a></sup></span> <span class="reference-text"><a target="_blank" rel="noreferrer noopener" class="external free" href="https://madaidans-insecurities.github.io/guides/linux-hardening.html#mac">https://madaidans-insecurities.github.io/guides/linux-hardening.html#mac</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://madaidans-insecurities.github.io/guides/linux-hardening.html#mac" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></span>
</li>
<li id="cite_note-3"><span class="mw-cite-backlink"><a href="#cite_ref-3">↑</a></span> <span class="reference-text">
<a target="_blank" rel="noreferrer noopener" class="external free" href="http://wiki.apparmor.net/index.php/Main_Page">http://wiki.apparmor.net/index.php/Main_Page</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/http://wiki.apparmor.net/index.php/Main_Page" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></span>
</li>
<li id="cite_note-4"><span class="mw-cite-backlink"><a href="#cite_ref-4">↑</a></span> <span class="reference-text">
Non-Qubes-Whonix ™ means all Whonix ™ platforms except <a href="/wiki/Qubes" title="Qubes">Qubes-Whonix ™</a>. This includes Whonix ™ <a href="/wiki/KVM" title="KVM">KVM</a>, Whonix ™ <a href="/wiki/VirtualBox" title="VirtualBox">VirtualBox</a> and Whonix ™ <a href="/wiki/Dev/Build_Documentation/Physical_Isolation" title="Dev/Build Documentation/Physical Isolation">Physical Isolation</a>.</span>
</li>
<li id="cite_note-5"><span class="mw-cite-backlink"><a href="#cite_ref-5">↑</a></span> <span class="reference-text">Advanced users attempting to enable SE Linux instead would utilize the following parameters in this section: 
<div class="code-select ">selinux=1 security=selinux</div></span>
</li>
<li id="cite_note-6"><span class="mw-cite-backlink"><a href="#cite_ref-6">↑</a></span> <span class="reference-text">
<a target="_blank" rel="noreferrer noopener" class="external free" href="https://packages.debian.org/bullseye/apparmor-profiles">https://packages.debian.org/bullseye/apparmor-profiles</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://packages.debian.org/bullseye/apparmor-profiles" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></span>
</li>
<li id="cite_note-7"><span class="mw-cite-backlink"><a href="#cite_ref-7">↑</a></span> <span class="reference-text">
Tor Browser is installed by <a href="/wiki/Tor_Browser#Update_Tor_Browser" title="Tor Browser">tb-updater</a>; the latter is a default Whonix ™ application.</span>
</li>
<li id="cite_note-8"><span class="mw-cite-backlink"><a href="#cite_ref-8">↑</a></span> <span class="reference-text">
Otherwise essential profile formatting might break or unwanted content (such as line numbers) might be copied inadvertently, leading to a non-functional profile.</span>
</li>
<li id="cite_note-9"><span class="mw-cite-backlink"><a href="#cite_ref-9">↑</a></span> <span class="reference-text">
In Whonix ™ 13.</span>
</li>
<li id="cite_note-10"><span class="mw-cite-backlink"><a href="#cite_ref-10">↑</a></span> <span class="reference-text">
This issue was fixed in the Whonix ™ 14 release.</span>
</li>
<li id="cite_note-11"><span class="mw-cite-backlink"><a href="#cite_ref-11">↑</a></span> <span class="reference-text">
<blockquote><p>Jul 18 13:50:28 host kernel: [  117.212029] audit: type=1400 audit(1626616228.947:23):</p></blockquote></span>
</li>
<li id="cite_note-12"><span class="mw-cite-backlink"><a href="#cite_ref-12">↑</a></span> <span class="reference-text">
<a target="_blank" rel="noreferrer noopener" class="external free" href="https://forums.whonix.org/t/whonix-14-debian-stretch-apparmor-related-changes/3563">https://forums.whonix.org/t/whonix-14-debian-stretch-apparmor-related-changes/3563</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://forums.whonix.org/t/whonix-14-debian-stretch-apparmor-related-changes/3563" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></span>
</li>
<li id="cite_note-13"><span class="mw-cite-backlink"><a href="#cite_ref-13">↑</a></span> <span class="reference-text">
Commits all files to git with commit message <code>.</code> for simplicity. Commit message could also be something else such as <code>{{{sudo_maybe}}} git commit -a -m "initial commit"</code>.</span>
</li>
<li id="cite_note-14"><span class="mw-cite-backlink"><a href="#cite_ref-14">↑</a></span> <span class="reference-text">
<a target="_blank" rel="noreferrer noopener" class="external free" href="https://gitlab.com/apparmor/apparmor/-/issues/200#note_685907209">https://gitlab.com/apparmor/apparmor/-/issues/200#note_685907209</a><sup class="ext-link-to-archive" title="Link to archived version"><a rel="noreferrer noopener" href="https://web.archive.org/web/https://gitlab.com/apparmor/apparmor/-/issues/200#note_685907209" target="_blank"><img src="/w/images/7/73/Internet_Archive_logo.png" /></a></sup></span>
</li>
</ol></div></div>
<div id="custom-footer">
<p>



<div class="content-wrapper">
 <div class="main-claim divider-border">
  <span class="headline">
   Whonix ™
  </span>

  <span class="claim">
   The most watertight privacy operating system in the world.
  </span>
 </div>

 <div class="donate divider-border">
  <a href="/wiki/Donate/Bitcoin" title="Donate Bitcoin to help us grow" data-address="3LspZMk4p7ECc4Ugd6DKwSTgqyxn41KG3B">
   <img src="/w/images/3/30/Whonix_donate_bitcoin.png">
  </a>

  <a href="/wiki/Donate/Monero" title="Donate Monero to help us grow" data-address="84ZZSsqyh5niztCgxmWAejDLu9eDerWo4Wsx8woEhDGpdKP3BWPtqenNjKuv8vojrB968U3hqYTKgLGt2zEcGopX1qaEPew">
   <img src="/w/images/9/92/Whonix_donate_monero.png">
  </a>

  <a href="/wiki/Donate/Ethereum" title="Donate Ethereum or Token to help us grow" data-address="0xB95B577Fb9ab085BBaC7808b8ECee905d3009943">
   <img src="/w/images/0/09/Whonix_donate_ethereum.png">
  </a>

  <a class="donate-button" href="/wiki/Donate" title="Donate to help us grow">
   <div>
    <span class="text">Donate</span>
    <span class="image"><img src="/w/images/4/40/Donate-banner.png" /></span>
   </div>
  </a>
 </div>

 <div class="social divider-border">
  <div class="text">Follow us on social media</div>
  <div class="icons">
   <a class="expand-button-50" href="https://t.me/s/Whonix" target="_blank" title="Whonix on Telegram">
    <img src="/w/images/thumb/9/9a/1024px-Telegram_2019_Logo.svg.png/50px-1024px-Telegram_2019_Logo.svg.png" />
   </a>

   <a class="expand-button-50" href="https://twitter.com/Whonix" target="_blank" title="Whonix on Twitter">
    <img src="/w/images/thumb/6/67/Twitter-logo.png/50px-Twitter-logo.png" />
   </a>

   <a class="expand-button-50" href="https://www.facebook.com/Whonix" target="_blank" title="Whonix on Facebook">
    <img src="/w/images/thumb/9/9d/Facebook-logo.png/50px-Facebook-logo.png" />
   </a>

   <a class="expand-button-50" href="https://www.reddit.com/r/Whonix" target="_blank" title="Whonix on Reddit">
    <img src="/w/images/thumb/1/14/Reddit-logo.png/50px-Reddit-logo.png" />
   </a>

   <a class="expand-button-50" href="http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/c/news.rss" target="_blank" title="Whonix as RSS">
    <img src="/w/images/thumb/0/09/Rss.png/50px-Rss.png" />
   </a>

   <a class="expand-button-50" href="https://mastodon.technology/@Whonix" target="_blank" title="Whonix on Mastodon">
    <img src="/w/images/thumb/b/b7/Mastodon-logo.png/50px-Mastodon-logo.png" />
   </a>
  </div>
 </div>

 <div class="support divider-border">
  <div class="text">FREE &nbsp;·&nbsp; PLUS &nbsp;·&nbsp; PREMIUM Support</div>

  <div class="logos">
   <a class="expand-button-50" href="/wiki/Support" target="_blank" title="Whonix FREE Support">
    <img src="/w/images/thumb/a/a6/Support-free.png/50px-Support-free.png" />
   </a>

   <a class="expand-button-50" href="/wiki/Plus_Support" target="_blank" title="Whonix PLUS Support">
    <img src="/w/images/thumb/c/c0/Support-plus.png/50px-Support-plus.png" />
   </a>

   <a class="expand-button-50" href="/wiki/Premium_Support" target="_blank" title="Whonix PREMIUM Support">
    <img src="/w/images/thumb/2/22/Support-premium.png/50px-Support-remium.png" />
   </a>
  </div>
 </div>

 <div class="opensource">
  <img src="/w/images/thumb/a/a3/Heckert_gnu.big.png/50px-Heckert_gnu.big.png" alt="GNU logo" />
  <img src="/w/images/thumb/0/09/Osi_standard_logo_0.png/50px-Osi_standard_logo_0.png" alt="Open Source Initiative logo" />
  <span class="text">
   At Whonix we believe in <b>freedom and trust</b>. That's why we fully support Open Source and Freedom Software.
   <a href="/wiki/Reasons_for_Freedom_Software" title="Reasons for Freedom Software">Learn more</a>.
  </span>
 </div>
</div>

<div class="content-wrapper-2">
 <div class="endorsements">
  <a class="evohost" href="https://evolution-host.com/ddos-protected-vps.php" target="_blank" title="Evolution Host provides system administration advice for the whonix.org website.">
   <img src="/w/images/e/e4/Evolution-host.png" />
   Whonix ™ is supported by <b>Evolution Host</b> DDoS Protected VPS.
  </a>

  <div class="fosshost">
   <a href="https://fosshost.org" target="_blank" title="Fosshost sponsors a Kicksecure stage server.">
    <img src="/w/images/thumb/b/be/Fosshost.org_Cloud_Light.png/200px-Fosshost.org_Cloud_Light.png" />
   </a>
  </div>

  <div class="whonix">
   <img src="/w/images/thumb/f/f1/Logo_box.png/80px-Logo_box.png" />
   <div>
    Whonix is the most watertight privacy operating system in the world 
   </div>
  </div>
 </div>

 <div class="legal">
  <span class="disclaimer">
   The personal opinions of
   <a href="http://forums.dds6qkxpwdeubwucdiaord2xgbbeyds25rbsgr73tbfpqpt4a6vjwsyd.onion/about" title="About (Forum)">moderators</a>
   or
   <a href="/wiki/Contributors" title="Contributors">contributors</a>
   to the
   <a href="/wiki/Whonix" title="Whonix">Whonix ™</a>
   project do not represent the project as a whole.
  </span>

  <span class="disclaimer">
   By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
   <a href="/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>
   ,
   <a href="/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>
   ,
   <a href="/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>
   ,
   <a href="/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
   ,
   <a href="/wiki/DMCA" title="DMCA">DMCA</a>
   ,
   <a href="/wiki/Imprint" title="Imprint">Imprint</a>
  </span>

  <span class="rights">
   Whonix
   <a href="/wiki/Trademark_Policy" title="Trademark Policy">™</a>
   <a href="/wiki/Whonix:Copyrights" title="Copyrights">©</a>
   ENCRYPTED SUPPORT LP,
   2022
  </span>
 </div>
</div>



<div id="footer-show-qr-codes-modal" class="modal fade" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
       <div class="qr-area">
        <img src="/" />

        <span>
         <strong>Whonix is free from corporate interest by being user funded. Thank you so much!</strong>
         <i class="fa fa-heart"></i>
         <br/><br/>
         Scan the QR code or use the wallet address below.
        </span>
       </div>

       &nbsp;

       <div class="code-select"></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
</p>
<div class="project-random-news-ticker">
<p>Please <a href="/wiki/Contribute" title="Contribute">contribute</a> by helping to <a href="/wiki/Contribute#Answer_Questions" title="Contribute">answer Whonix questions</a>.
</p>
</div>
</div></div>
<div class="printfooter">Retrieved from "<a dir="ltr" href="https://www.whonix.org/w/index.php?title=AppArmor&amp;oldid=83945">https://www.whonix.org/w/index.php?title=AppArmor&amp;oldid=83945</a>"</div></div>
		<div id="catlinks" class="catlinks catlinks-allhidden" data-mw="interface"><div id="mw-hidden-catlinks" class="mw-hidden-catlinks mw-hidden-cats-hidden">Hidden category: <ul><li><a href="/wiki/Category:Documentation" title="Category:Documentation">Documentation</a></li></ul></div></div>
	</div>
</div>
<div id='mw-data-after-content'>
	<div class="mw-cookiewarning-container"><div class="mw-cookiewarning-text"><span>By using our website, you acknowledge that you have read, understood and agreed to our Privacy Policy, Cookie Policy, Terms of Service, and E-Sign Consent.</span></div><form method="POST"><div class='oo-ui-layout oo-ui-horizontalLayout'><span aria-disabled='false' class='oo-ui-widget oo-ui-widget-enabled oo-ui-buttonElement oo-ui-buttonElement-framed oo-ui-labelElement oo-ui-flaggedElement-progressive oo-ui-buttonWidget'><a role='button' tabindex='0' aria-disabled='false' href='/wiki/Terms_of_Service' rel='nofollow' class='oo-ui-buttonElement-button'><span class='oo-ui-iconElement-icon oo-ui-iconElement-noIcon oo-ui-image-progressive'></span><span class='oo-ui-labelElement-label'>More information</span><span class='oo-ui-indicatorElement-indicator oo-ui-indicatorElement-noIndicator oo-ui-image-progressive'></span></a></span><span aria-disabled='false' class='oo-ui-widget oo-ui-widget-enabled oo-ui-inputWidget oo-ui-buttonElement oo-ui-buttonElement-framed oo-ui-labelElement oo-ui-flaggedElement-primary oo-ui-flaggedElement-progressive oo-ui-buttonInputWidget'><button type='submit' tabindex='0' aria-disabled='false' name='disablecookiewarning' value='OK' class='oo-ui-inputWidget-input oo-ui-buttonElement-button'><span class='oo-ui-iconElement-icon oo-ui-iconElement-noIcon oo-ui-image-invert'></span><span class='oo-ui-labelElement-label'>OK</span><span class='oo-ui-indicatorElement-indicator oo-ui-indicatorElement-noIndicator oo-ui-image-invert'></span></button></span></div></form></div>
</div>

<div id="mw-navigation">
	<h2>Navigation menu</h2>
	<div id="mw-head">
		<nav id="p-personal" class="mw-portlet mw-portlet-personal vector-user-menu-legacy vector-menu" aria-labelledby="p-personal-label" role="navigation" 
	 >
	<h3 id="p-personal-label" class="vector-menu-heading"> <span>Personal tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="pt-anonuserpage" class="mw-list-item">Not logged in</li><li id="pt-anontalk" class="mw-list-item"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs" class="mw-list-item"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount" class="mw-list-item"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=AppArmor" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login" class="mw-list-item"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=AppArmor" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li></ul>
		
	</div>
</nav>

		<div id="left-navigation">
			<nav id="p-namespaces" class="mw-portlet mw-portlet-namespaces vector-menu vector-menu-tabs" aria-labelledby="p-namespaces-label" role="navigation" 
	 >
	<h3 id="p-namespaces-label" class="vector-menu-heading"> <span>Namespaces</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-nstab-main" class="selected mw-list-item"><a href="/wiki/AppArmor" title="View the content page [c]" accesskey="c">Page</a></li><li id="ca-talk" class="new mw-list-item"><a href="/w/index.php?title=Talk:AppArmor&amp;action=edit&amp;redlink=1" rel="discussion" title="Discussion about the content page (page does not exist) [t]" accesskey="t">Discussion</a></li></ul>
		
	</div>
</nav>

			<nav id="p-variants" class="mw-portlet mw-portlet-variants emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-variants-label" role="navigation" 
	 >
	<input type="checkbox"
		id="p-variants-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-variants"
		class=" vector-menu-checkbox" aria-labelledby="p-variants-label" />
	<h3 id="p-variants-label" class="vector-menu-heading"> <span>Variants</span>
			<span class="vector-menu-checkbox-expanded">expanded</span>
			<span class="vector-menu-checkbox-collapsed">collapsed</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

		</div>
		<div id="right-navigation">
			<nav id="p-views" class="mw-portlet mw-portlet-views vector-menu vector-menu-tabs" aria-labelledby="p-views-label" role="navigation" 
	 >
	<h3 id="p-views-label" class="vector-menu-heading"> <span>Views</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="ca-view" class="selected mw-list-item"><a href="/wiki/AppArmor">Read</a></li><li id="ca-edit" class="mw-list-item"><a href="/w/index.php?title=AppArmor&amp;action=edit" title="Edit this page [e]" accesskey="e">Edit</a></li><li id="ca-history" class="mw-list-item"><a href="/w/index.php?title=AppArmor&amp;action=history" title="Past revisions of this page [h]" accesskey="h">View history</a></li></ul>
		
	</div>
</nav>

			<nav id="p-cactions" class="mw-portlet mw-portlet-cactions emptyPortlet vector-menu-dropdown-noicon vector-menu vector-menu-dropdown" aria-labelledby="p-cactions-label" role="navigation"  title="More options"
	 >
	<input type="checkbox"
		id="p-cactions-checkbox"
		role="button"
		aria-haspopup="true"
		data-event-name="ui.dropdown-p-cactions"
		class=" vector-menu-checkbox" aria-labelledby="p-cactions-label" />
	<h3 id="p-cactions-label" class="vector-menu-heading"> <span>More</span>
			<span class="vector-menu-checkbox-expanded">expanded</span>
			<span class="vector-menu-checkbox-collapsed">collapsed</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"></ul>
		
	</div>
</nav>

			<div id="p-search" role="search" class="vector-search-box">
	<div>
		<h3 >
			<label for="searchInput">Search</label>
		</h3>
		<form action="/w/index.php" id="searchform">
			<div id="simpleSearch" data-search-loc="header-navigation">
				<input type="search" name="search" placeholder="Search Whonix" autocapitalize="sentences" title="Search Whonix [f]" accesskey="f" id="searchInput"/>
				<input type="hidden" name="title" value="Special:Search"/>
				<input type="submit" name="fulltext" value="Search" title="Search the pages for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/>
				<input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>
			</div>
		</form>
	</div>
</div>

		</div>
	</div>
	
<div id="mw-panel">
	<div id="p-logo" role="banner">
		<a class="mw-wiki-logo" href="/wiki/Main_Page"
			title="Visit the main page"></a>
	</div>
	<nav id="p-Menu" class="mw-portlet mw-portlet-Menu vector-menu vector-menu-portal portal" aria-labelledby="p-Menu-label" role="navigation" 
	 >
	<h3 id="p-Menu-label" class="vector-menu-heading"> <span>Menu</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="n-Download " class="mw-list-item"><a href="/wiki/Download">Download </a></li><li id="n-Docs" class="mw-list-item"><a href="/wiki/Documentation">Docs</a></li><li id="n-News" class="mw-list-item"><a href="https://forums.whonix.org/c/news" target="_blank">News</a></li><li id="n-Help-us" class="mw-list-item"><a href="/wiki/Contribute">Help us</a></li></ul>
		
	</div>
</nav>

	<nav id="p-tb" class="mw-portlet mw-portlet-tb vector-menu vector-menu-portal portal" aria-labelledby="p-tb-label" role="navigation" 
	 >
	<h3 id="p-tb-label" class="vector-menu-heading"> <span>Tools</span>
	</h3>
	<div class="vector-menu-content">
		
		<ul class="vector-menu-content-list"><li id="t-whatlinkshere" class="mw-list-item"><a href="/wiki/Special:WhatLinksHere/AppArmor" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked" class="mw-list-item"><a href="/wiki/Special:RecentChangesLinked/AppArmor" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-specialpages" class="mw-list-item"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print" class="mw-list-item"><a href="javascript:print();" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink" class="mw-list-item"><a href="/w/index.php?title=AppArmor&amp;oldid=83945" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info" class="mw-list-item"><a href="/w/index.php?title=AppArmor&amp;action=info" title="More information about this page">Page information</a></li></ul>
		
	</div>
</nav>

	
</div>

</div>
<footer id="footer" class="mw-footer" role="contentinfo" >
	<ul id="footer-info" >
	<li id="footer-info-lastmod"> </li>
	<li id="footer-info-copyright">By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:</li>
</ul>

	<ul id="footer-places" >
	<li id="footer-places-Terms of Service"><a href="/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a></li>
	<li id="footer-places-Privacy Policy"><a href="/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a></li>
	<li id="footer-places-Cookie Policy"><a href="/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a></li>
	<li id="footer-places-E-Sign_Consent"><a href="/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a></li>
	<li id="footer-places-DMCA"><a href="/wiki/DMCA" class="mw-redirect" title="DMCA">DMCA</a></li>
	<li id="footer-places-Imprint"><a href="/wiki/Imprint" title="Imprint">Imprint</a></li>
</ul>

	
</footer>


<script>(RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":3133});});</script>
</body></html>