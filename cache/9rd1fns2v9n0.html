<!DOCTYPE html>
<html lang="was" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>opensim:project_alexandria [Wizardry and Steamworks]</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="opensim,project_alexandria"/>
<link rel="search" type="application/opensearchdescription+xml" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/opensearch.php" title="Wizardry and Steamworks"/>
<link rel="start" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/"/>
<link rel="contents" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria?do=index" title="Sitemap"/>
<link rel="manifest" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/manifest.php"/>
<link rel="alternate" type="application/rss+xml" title="Changes" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/feed.php"/>
<link rel="alternate" type="application/rss+xml" title="Current namespace" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/feed.php?mode=list&amp;ns=opensim"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_export/xhtml/opensim/project_alexandria"/>
<link rel="canonical" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"/>
<link rel="stylesheet" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/css.php?t=was&amp;tseed=24551d22639bdaeb736aec3dca86fd82"/>
<!--[if gte IE 9]><!-->
<script >/*<![CDATA[*/var NS='opensim';var JSINFO = {"plugin_imagemap_mldummy":"http:\/\/3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion\/_media\/wiki\/dokuwiki-128.png","isadmin":0,"isauth":0,"plugin_pdfjs":{"hide_download_button":0},"plugins":{"vshare":{"youtube":"youtube\\.com\/.*[&?]v=([a-z0-9_\\-]+)","vimeo":"vimeo\\.com\\\/(\\d+)","slideshare":"slideshare.*id=(\\d+)","dailymotion":"dailymotion\\.com\/video\/([a-z0-9]+)","archiveorg":"archive\\.org\/(?:embed|details)\/([a-zA-Z0-9_\\-]+)","soundcloud":"soundcloud\\.com\/([\\w-]+\/[\\w-]+)","niconico":"nicovideo\\.jp\/watch\/(sm[0-9]+)","bitchute":"bitchute\\.com\\\/video\\\/([a-zA-Z0-9_\\-]+)","coub":"coub\\.com\\\/view\\\/([a-zA-Z0-9_\\-]+)","odysee":"odysee\\.com\/\\$\/(?:embed|download)\/([-%_?=\/a-zA-Z0-9]+)","youku":"v\\.youku\\.com\/v_show\/id_([0-9A-Za-z=]+)\\.html","bilibili":"bilibili\\.com\\\/video\\\/(BV[0-9A-Za-z]+)","msoffice":"(?:office\\.com.*[&?]videoid=([a-z0-9\\-]+))","msstream":"microsoftstream\\.com\\\/video\\\/([a-f0-9\\-]{36})"}},"id":"opensim:project_alexandria","namespace":"opensim","ACT":"show","useHeadingNavigation":0,"useHeadingContent":0};
/*!]]>*/</script>
<script charset="utf-8" src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/jquery.php?tseed=34a552433bc33cc9c3bc32527289a0b2"></script>
<script charset="utf-8" src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/js.php?t=was&amp;tseed=24551d22639bdaeb736aec3dca86fd82&amp;template=was"></script>
<!--<![endif]-->
    <!-- <link rel="shortcut icon" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/favicon.ico" />
<link rel="apple-touch-icon" href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/apple-touch-icon.png" />
 -->
    <!-- Viewport -->
<meta name="viewport" content="width=device-width,initial-scale=1" />
<!-- Favicon -->
<link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png?v=2">
<link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png?v=2">
<link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png?v=2">
<link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png?v=2">
<link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png?v=2">
<link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png?v=2">
<link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png?v=2">
<link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png?v=2">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png?v=2">
<link rel="icon" type="image/png" href="/favicon-32x32.png?v=2" sizes="32x32">
<link rel="icon" type="image/png" href="/android-chrome-192x192.png?v=2" sizes="192x192">
<link rel="icon" type="image/png" href="/favicon-96x96.png?v=2" sizes="96x96">
<link rel="icon" type="image/png" href="/favicon-16x16.png?v=2" sizes="16x16">
<link rel="manifest" href="/manifest.json?v=2">
<link rel="shortcut icon" href="/favicon.ico?v=2">
<meta name="apple-mobile-web-app-title" content="[Wizardry and Steamworks]">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/mstile-144x144.png?v=2">
<meta name="application-name" content="[Wizardry and Steamworks]">
<meta name="theme-color" content="#ffffff">
    <!-- <script async type="text/javascript" src="/lib/tpl/was/loadCSS.js"></script>
    <script async type="text/javascript" src="/lib/tpl/was/cssrelpreload.js"></script> -->
</head>

<body>
    <!--[if lte IE 8 ]><div id="IE8"><![endif]-->
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_was     ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header">

	    
	<!-- ********** TOP BAR ********** -->
	<div class="bar" id="bar__top">
		<div class="bar-left" id="bar__topleft">
			<form class="button btn_login" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="" /><button type="submit" title="Log In">Log In</button></div></form>						<form class="button btn_revs" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"><div class="no"><input type="hidden" name="do" value="revisions" /><button type="submit" accesskey="o" title="Revisions [O]">Revisions</button></div></form>						<form class="button btn_pdf" action="?do=export_pdf" method="POST">
			    <button type="submit" title="PDF">PDF</button>
                        </form>
		</div>
		<div class="bar-center">
		        <form class="button btn_home" action="/" method="POST">
                            <button type="submit" title="Home">Home</button>
                        </form>
			<form action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="opensim:project_alexandria" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			<!-- <form id="osssearchform" method="get" action="renderer">
        <input type="hidden" name="use" value="grimore.org">
        <input type="hidden" name="name" value="default">
        <input type="text" id="osssearchbox" name="query">
        <input type="hidden" name="login" value="search">
        <input type="hidden" name="key" value="1a5f74ab3f4df6ce883c4c158540e25e">
        <input type="submit" value="Search">
</form>
 -->
		</div>
		<div class="bar-right" id="bar__topright">
		        <form class="button btn_contact" action="mailto:%6F%66%66%69%63%65%40%67%72%69%6D%6F%72%65%2E%6F%72%67" method="POST">
			    <button type="submit" title="Contact">Contact</button>
                        </form>
                        <form class="button btn_news" action="/feed.php?type=rss2&amp;ns=opensim:project_alexandria&amp;linkto=page&amp;content=abstract" method="POST">
			    <button type="submit" title="News">News</button>
                        </form>
			<form class="button btn_admin" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"><div class="no"><input type="hidden" name="do" value="admin" /><button type="submit" title="Admin">Admin</button></div></form>								</div>
			</div>

    <!-- BREADCRUMBS -->
            <div class="breadcrumbs">
                            <div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" class="wikilink1" title="start" data-wiki-id="start">start</a></bdi></span> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim" class="wikilink1" title="opensim" data-wiki-id="opensim">opensim</a></bdi> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria" class="wikilink1" title="opensim:project_alexandria" data-wiki-id="opensim:project_alexandria">project_alexandria</a></bdi></div>
                                </div>
    
    <hr class="a11y" />
</div><!-- /header -->

        <div class="wrapper group">

            <!--  -->

            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <!-- <div class="pageId"><span>opensim:project_alexandria</span></div> -->

                <div class="page group">
                                                            <!-- wikipage start -->
                    <!-- TOC START -->
<div id="dw__toc" class="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#shortnote">Shortnote</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#presentation">Presentation</a></div></li>
<li class="level2"><div class="li"><a href="#in-world_location">In-world Location</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#languages_and_server_configuration">Languages and Server Configuration</a></div></li>
<li class="level1"><div class="li"><a href="#search_system">Search System</a></div></li>
<li class="level1"><div class="li"><a href="#security_notes">Security Notes</a></div></li>
<li class="level1"><div class="li"><a href="#caveats">Caveats</a></div></li>
<li class="level1"><div class="li"><a href="#file_transfer">File Transfer</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#dropbox">DropBox</a></div>
<ul class="toc">
<li class="level3"><div class="li"><a href="#dropbox_startup_script">DropBox Startup Script</a></div></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#index">Index</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 class="sectionedit1" id="shortnote">Shortnote</h1>
<div class="level1">

<p>
Project Alexandria (initially starting off as an attempt to create a library in OpenSim) is a collection of scripts that allow users to synchronize documents between OpenSim notecards and the filesystem. The project goes further by implementing a distributed search system that allows searching of imported notecards.
</p>

</div>

<h2 class="sectionedit2" id="presentation">Presentation</h2>
<div class="level2">
<div class="table sectionedit3"><table class="inline">
	<thead>
	<tr class="row0">
		<th class="col0 leftalign"> Importing Text Files   </th><th class="col1"> The Library </th>
	</tr>
	</thead>
	<tr class="row1">
		<td class="col0"><video class="media" width="512" height="288" controls="controls">
<source src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_media/video/opensim_project_alexandria.mp4" type="video/mp4" />
<a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_media/video/opensim_project_alexandria.mp4?cache=" class="media mediafile mf_mp4" title="video:opensim_project_alexandria.mp4 (12 MB)">opensim_project_alexandria.mp4</a></video>
 </td><td class="col1"> <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_detail/opensim/opensim_project_alexandria.png?id=opensim%3Aproject_alexandria" class="media" title="opensim:opensim_project_alexandria.png"><img src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_media/opensim/opensim_project_alexandria.png?w=480&amp;tok=9fb237" class="media" alt="" width="480" /></a> </td>
	</tr>
</table></div>

</div>

<h2 class="sectionedit4" id="in-world_location">In-world Location</h2>
<div class="level2">

<p>
The Project Alexandria library is part of the the <a href="http://wiki.bio-se.info/" class="urlextern" title="http://wiki.bio-se.info/" rel="ugc nofollow">VIBE grid</a> and hosted at the University of New Orleans. It can be accessed from any OpenSim world that is capable of establishing hyperlinks by writing on the local chat:
</p>

<p>
<a href="secondlife:///repo.bio-se.info:9000/" class="urlextern" title="secondlife:///repo.bio-se.info:9000/" rel="ugc nofollow">secondlife:///repo.bio-se.info:9000/</a>
</p>

<p>
and then opening-up the chat log and clicking that link. This will establish a hyperlink from your current grid to the library at Project Alexandria and allow you to teleport.
</p>

<p>
Alternatively, you are free to open an account on the VIBE grid <a href="http://vibe.bio-se.info:9000/wifi/" class="urlextern" title="http://vibe.bio-se.info:9000/wifi/" rel="ugc nofollow">from the wifi page</a> and then setting-up the viewer by following the instructions provided on the <a href="http://wiki.bio-se.info/doku.php?id=hypergrid" class="urlextern" title="http://wiki.bio-se.info/doku.php?id=hypergrid" rel="ugc nofollow">hypergrid page on the BIO-SE wiki</a>.
</p>

</div>

<h1 class="sectionedit5" id="languages_and_server_configuration">Languages and Server Configuration</h1>
<div class="level1">

<p>
The scripts are written using LSL, the OpenSim Scripting Language (OSSL) as well as in-lined mixed C#. This requires configuration changes of the OpenSim daemon but does not require changing the code of the server. The different languages are used for the following purposes:
</p>
<ul>
<li class="level1"><div class="li"> C# - for access to the filesystem as well as regular expression capabilities that allows searching the notecards.</div>
</li>
<li class="level1"><div class="li"> OSSL - for creating the notecards in OpenSim because LSL cannot create notecards.</div>
</li>
</ul>

<p>
The following changes have been made to the default OpenSim configuration in the <code>OpenSim.ini</code> file:
</p>
<pre class="code">;; OpenSim event handlers time-out, which is not compliant 
;; with the LSL specification. We thus bumped this up to 3600s (1 hour).
EventLimit = 3600

;; Because messing with the scheduler is like 
;; dealing with Linux on a daily basis.
Priority = &quot;Normal&quot;

;; This is not properly documented anywhere but we 
;; assumed that it represents the script memory threshold.
;; No clue even in what it is measured, bytes, kbytes... 
;;
;; We bumped this up to make sure that there will be no problems
;; reading large notecards but we do not think it is necessary.
ThreadStackSize = 10385760

;; Added C# support
AllowedCompilers = &quot;lsl,cs&quot;

;; Enabled OSSL
AllowOSFunctions = true

;; At the time of development we did not care but this could drastically 
;; be lowered since only notecard OSSL functions are used.
OSFunctionThreatLevel = Severe</pre>

</div>

<h1 class="sectionedit6" id="search_system">Search System</h1>
<div class="level1">

<p>
<a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_detail/opensim/opensim_project_alexandria_search_system.png?id=opensim%3Aproject_alexandria" class="media" title="opensim:opensim_project_alexandria_search_system.png"><img src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_media/opensim/opensim_project_alexandria_search_system.png?w=600&amp;tok=2c2d39" class="mediacenter" title=" Search automaton." alt=" Search automaton." width="600" /></a>
</p>

<p>
Every bookcase on Project Alexandria contains the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/search" class="wikilink1" title="opensim:project_alexandria:search" data-wiki-id="opensim:project_alexandria:search">search</a> script that listens on a region-wide public channel for a search term provided by the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/oracle" class="wikilink1" title="opensim:project_alexandria:oracle" data-wiki-id="opensim:project_alexandria:oracle">oracle</a>. Once a search term is received, every bookcase search script searches in-turn:
</p>
<ol>
<li class="level1"><div class="li"> the description of the bookcase (the author name).</div>
</li>
<li class="level1"><div class="li"> the name of the bookcase.</div>
</li>
<li class="level1"><div class="li"> the names of the notecards.</div>
</li>
</ol>

<p>
Once a result is found, the position and the name of the bookcase is broadcasted on a different channel, on which the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/oracle" class="wikilink1" title="opensim:project_alexandria:oracle" data-wiki-id="opensim:project_alexandria:oracle">oracle</a> script listens to.
</p>

<p>
Once a result is received by the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/oracle" class="wikilink1" title="opensim:project_alexandria:oracle" data-wiki-id="opensim:project_alexandria:oracle">oracle</a>, the result is stored and the oracle uses an <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/fuss/lsl#llsensorrepeat_as_alarm" class="wikilink1" title="fuss:lsl" data-wiki-id="fuss:lsl">alarm</a> to reschedule the transition from the <code>search</code> and to the <code>select</code> state. This is performed in order to give all bookcases a chance to return results. Similarly, all transitions from the <code>select</code> and <code>sit</code> states to the <code>default</code> state allow the corresponding operations to time out.
</p>

<p>
We can observe the implicit states <code>desc</code>, <code>name</code> and <code>cards</code> in the <code>listen</code> event handler of the search script. These are the implicit states where the search script searches the description and name of the object as well as the names of the notecards. The <code>listen</code> event handler can also be extended to search, for example, within the actual text of the notecard.
</p>

</div>

<h1 class="sectionedit7" id="security_notes">Security Notes</h1>
<div class="level1">
<div class="wrap_important wrap_box wrap_round plugin_wrap">
<p>
Using C# in OpenSim grants any user direct access to the filesystem - this is a major concern since any file on the server filesystem could then be extracted through OpenSim. To prevent this, specify the following parameters in the <code>OpenSim.ini</code> configuration file, in the <code>[Startup]</code> section:
</p>
<pre class="code">[Startup]
GrantLSL = 5998029f-ddde-4497-b3e1-b7a5d702742f,b02e3094-a3c6-4921-8dcf-5c33aea6c261
GrantCS = 5998029f-ddde-4497-b3e1-b7a5d702742f,b02e3094-a3c6-4921-8dcf-5c33aea6c261
GrantVB = 5998029f-ddde-4497-b3e1-b7a5d702742f,b02e3094-a3c6-4921-8dcf-5c33aea6c261
GrantJS = 5998029f-ddde-4497-b3e1-b7a5d702742f,b02e3094-a3c6-4921-8dcf-5c33aea6c261
GrantYP = 5998029f-ddde-4497-b3e1-b7a5d702742f,b02e3094-a3c6-4921-8dcf-5c33aea6c261</pre>

<p>
where the UUIDs <code>5998029f-ddde-4497-b3e1-b7a5d702742f</code> and <code>b02e3094-a3c6-4921-8dcf-5c33aea6c261</code> represent agent IDs that are allowed to use the respective languages.
</p>

<p>
It is imperative to well-define the agents that will be allowed to use the compilers you enable with the <code>AllowedCompilers</code> setting; otherwise, any agent will have full access to the filesystem.
</p>
</div>
</div>

<h1 class="sectionedit10" id="caveats">Caveats</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> The viewer may have issues opening large notecards depending on the quality of the connection between the viewer and the server. The real issue is that notecards are downloaded by the viewer just like any other asset. Thus, very large notecards may take a long time to download depending on their size and the quality of the connection between the client and the server.</div>
</li>
</ul>

</div>

<h1 class="sectionedit11" id="file_transfer">File Transfer</h1>
<div class="level1">
<ul>
<li class="level1"><div class="li"> File-transfer in the demonstration shown in the video is done manually over <code>ssh</code>. This can be extended by using software such as <a href="http://winscp.net/eng/index.php" class="urlextern" title="http://winscp.net/eng/index.php" rel="ugc nofollow">WinSCP</a> that gives the user a nice drag and drop interface to upload text files.</div>
</li>
</ul>
<ul>
<li class="level1"><div class="li"> <a href="https://www.dropbox.com/install?os=lnx" class="urlextern" title="https://www.dropbox.com/install?os=lnx" rel="ugc nofollow">DropBox</a> is also an alternative, provided that the mount path (in our case <code>/home/opensim/books</code>) is substituted for the DropBox folder under Linux. This is perhaps the easiest and cleanest method without requiring uploaders to configure a <code>sftp</code> client.</div>
</li>
</ul>

</div>

<h2 class="sectionedit12" id="dropbox">DropBox</h2>
<div class="level2">

<p>
This section covers installing DropBox for Linux and setting up a sync between <code>/home/opensim/books</code> and the DropBox folder. First we get and install DropBox along with all the required dependencies.
</p>
<pre class="code bash"><span class="kw2">wget</span> <span class="re5">-O</span> dropbox_1.4.0_amd64.deb <span class="re5">-c</span> https:<span class="sy0">//</span>www.dropbox.com<span class="sy0">/</span>download?<span class="re2">dl</span>=packages<span class="sy0">/</span>debian<span class="sy0">/</span>dropbox_1.4.0_amd64.deb
<span class="kw2">aptitude install</span> python-gtk2 python-gpgme
<span class="kw2">dpkg</span> <span class="re5">-i</span> dropbox_1.4.0_arm64.deb</pre>

<p>
Next, we configure DropBox with:
</p>
<pre class="code bash">dropbox start <span class="re5">-i</span></pre>

<p>
which will ask for the proprietary daemon to be downloaded.
</p>

<p>
Now, we download the CLI DropBox client:
</p>
<pre class="code bash"><span class="kw2">wget</span> <span class="re5">-O</span> dropbox.py <span class="re5">-c</span> https:<span class="sy0">//</span>www.dropbox.com<span class="sy0">/</span>download?<span class="re2">dl</span>=packages<span class="sy0">/</span>dropbox.py
<span class="kw2">mv</span> dropbox.py <span class="sy0">/</span>usr<span class="sy0">/</span>local<span class="sy0">/</span>bin<span class="sy0">/</span>
<span class="kw2">chmod</span> +x <span class="sy0">/</span>usr<span class="sy0">/</span>local<span class="sy0">/</span>bin<span class="sy0">/</span>dropbox.py</pre>

<p>
And we link the computer to a DropBox account (we can create a brand new one):
</p>
<pre class="code">To link this computer to a dropbox account, visit the following url:
https://www.dropbox.com/cli_link?host_id=529ca8050a00180790cf88b63468826a</pre>

<p>
by visiting the indicated URL.
</p>

<p>
Now we start the dropbox daemon:
</p>
<pre class="code bash">~<span class="sy0">/</span>.dropbox-dist<span class="sy0">/</span>dropboxd</pre>

<p>
The result is that a new folder is created in the user&#039;s home directory called <code>Dropbox</code>. In our case, we copied the files from <code>/home/opensim/books</code> to <code>/home/opensim/Dropbox/books</code> and then created a soft link from the <code>Dropbox</code> folder to <code>books</code>:
</p>
<pre class="code bash"><span class="kw2">ln</span> <span class="re5">-sf</span> Dropbox<span class="sy0">/</span>books books</pre>

<p>
The reason why a subfolder <code>Dropbox/books</code> was created is because DropBox does not allow sharing the entire account.
</p>

</div>

<h3 class="sectionedit13" id="dropbox_startup_script">DropBox Startup Script</h3>
<div class="level3">

<p>
Assuming that the Linux distribution is Debian, DropBox can be started with a shell script found on the <a href="http://www.dropboxwiki.com/Ubuntu_Startup" class="urlextern" title="http://www.dropboxwiki.com/Ubuntu_Startup" rel="ugc nofollow">DropBox wiki</a>. The following script can be copied to <code>/etc/ini.d/dropbox</code>:
</p>
<dl class="file">
<dt><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/_export/code/opensim/project_alexandria?codeblock=8" title="Download Snippet" class="mediafile mf_">dropbox</a></dt>
<dd><pre class="code file bash"><span class="co0">#!/bin/sh</span>
<span class="co0">### BEGIN INIT INFO</span>
<span class="co0"># Provides: dropbox</span>
<span class="co0"># Required-Start: $local_fs $remote_fs $network $syslog $named</span>
<span class="co0"># Required-Stop: $local_fs $remote_fs $network $syslog $named</span>
<span class="co0"># Default-Start: 2 3 4 5</span>
<span class="co0"># Default-Stop: 0 1 6</span>
<span class="co0"># X-Interactive: false</span>
<span class="co0"># Short-Description: dropbox service</span>
<span class="co0">### END INIT INFO</span>
&nbsp;
<span class="co0">#dropbox service</span>
<span class="re2">DROPBOX_USERS</span>=<span class="st0">&quot;opensim&quot;</span>
&nbsp;
<span class="re2">DAEMON</span>=.dropbox-dist<span class="sy0">/</span>dropbox
&nbsp;
start<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
   <span class="kw3">echo</span> <span class="st0">&quot;Starting dropbox...&quot;</span>
   <span class="kw1">for</span> dbuser <span class="kw1">in</span> <span class="re1">$DROPBOX_USERS</span>; <span class="kw1">do</span>
       <span class="re2">HOMEDIR</span>=<span class="sy0">`</span><span class="kw2">getent</span> <span class="kw2">passwd</span> <span class="re1">$dbuser</span> <span class="sy0">|</span> <span class="kw2">cut</span> -d: -f6<span class="sy0">`</span>
       <span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re5">-x</span> <span class="re1">$HOMEDIR</span><span class="sy0">/</span><span class="re1">$DAEMON</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
           <span class="re2">HOME</span>=<span class="st0">&quot;<span class="es2">$HOMEDIR</span>&quot;</span> start-stop-daemon <span class="re5">-b</span> <span class="re5">-o</span> <span class="re5">-c</span> <span class="re1">$dbuser</span> <span class="re5">-S</span> <span class="re5">-u</span> <span class="re1">$dbuser</span> <span class="re5">-x</span> <span class="re1">$HOMEDIR</span><span class="sy0">/</span><span class="re1">$DAEMON</span>
       <span class="kw1">fi</span>
   <span class="kw1">done</span>
<span class="br0">&#125;</span>
&nbsp;
stop<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
   <span class="kw3">echo</span> <span class="st0">&quot;Stopping dropbox...&quot;</span>
   <span class="kw1">for</span> dbuser <span class="kw1">in</span> <span class="re1">$DROPBOX_USERS</span>; <span class="kw1">do</span>
       <span class="re2">HOMEDIR</span>=<span class="sy0">`</span><span class="kw2">getent</span> <span class="kw2">passwd</span> <span class="re1">$dbuser</span> <span class="sy0">|</span> <span class="kw2">cut</span> -d: -f6<span class="sy0">`</span>
       <span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re5">-x</span> <span class="re1">$HOMEDIR</span><span class="sy0">/</span><span class="re1">$DAEMON</span> <span class="br0">&#93;</span>; <span class="kw1">then</span>
           start-stop-daemon <span class="re5">-o</span> <span class="re5">-c</span> <span class="re1">$dbuser</span> <span class="re5">-K</span> <span class="re5">-u</span> <span class="re1">$dbuser</span> <span class="re5">-x</span> <span class="re1">$HOMEDIR</span><span class="sy0">/</span><span class="re1">$DAEMON</span>
       <span class="kw1">fi</span>
   <span class="kw1">done</span>
<span class="br0">&#125;</span>
&nbsp;
status<span class="br0">&#40;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
   <span class="kw1">for</span> dbuser <span class="kw1">in</span> <span class="re1">$DROPBOX_USERS</span>; <span class="kw1">do</span>
       <span class="re2">dbpid</span>=<span class="sy0">`</span>pgrep <span class="re5">-u</span> <span class="re1">$dbuser</span> dropbox<span class="sy0">`</span>
       <span class="kw1">if</span> <span class="br0">&#91;</span> <span class="re5">-z</span> <span class="re1">$dbpid</span> <span class="br0">&#93;</span> ; <span class="kw1">then</span>
           <span class="kw3">echo</span> <span class="st0">&quot;dropboxd for USER <span class="es2">$dbuser</span>: not running.&quot;</span>
       <span class="kw1">else</span>
           <span class="kw3">echo</span> <span class="st0">&quot;dropboxd for USER <span class="es2">$dbuser</span>: running (pid <span class="es2">$dbpid</span>)&quot;</span>
       <span class="kw1">fi</span>
   <span class="kw1">done</span>
<span class="br0">&#125;</span>
&nbsp;
<span class="kw1">case</span> <span class="st0">&quot;$1&quot;</span> <span class="kw1">in</span>
&nbsp;
   start<span class="br0">&#41;</span>
       start
       <span class="sy0">;;</span>
   stop<span class="br0">&#41;</span>
       stop
       <span class="sy0">;;</span>
   restart<span class="sy0">|</span>reload<span class="sy0">|</span>force-reload<span class="br0">&#41;</span>
       stop
       start
       <span class="sy0">;;</span>
   status<span class="br0">&#41;</span>
       status
       <span class="sy0">;;</span>
   <span class="sy0">*</span><span class="br0">&#41;</span>
       <span class="kw3">echo</span> <span class="st0">&quot;Usage: /etc/init.d/dropbox {start|stop|reload|force-reload|restart|status}&quot;</span>
       <span class="kw3">exit</span> <span class="nu0">1</span>
&nbsp;
<span class="kw1">esac</span>
&nbsp;
<span class="kw3">exit</span> <span class="nu0">0</span></pre>
</dd></dl>

<p>
and then activated with:
</p>
<pre class="code bash"><span class="kw2">chmod</span> +x <span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>dropbox 
update-rc.d dropbox defaults </pre>

<p>
which will make sure that DropBox starts on boot.
</p>

</div>

<h1 class="sectionedit14" id="index">Index</h1>
<div class="level1">

<p>
The components are explained further on their individual pages. Additionally, we use the <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/secondlife/giver" class="wikilink1" title="secondlife:giver" data-wiki-id="secondlife:giver">giver</a> project to hand out the notecards.
</p>

<div><div id="nojs_indexmenu_210508731362b5bfff94bfb" data-jsajax="" class="indexmenu_nojs">

<ul class="idx">
<li class="level1" ><div class="li"><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/oracle" class="wikilink1" title="opensim:project_alexandria:oracle" data-wiki-id="opensim:project_alexandria:oracle">oracle</a></div></li>
<li class="level1" ><div class="li"><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/search" class="wikilink1" title="opensim:project_alexandria:search" data-wiki-id="opensim:project_alexandria:search">search</a></div></li>
<li class="level1" ><div class="li"><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria/sync" class="wikilink1" title="opensim:project_alexandria:sync" data-wiki-id="opensim:project_alexandria:sync">sync</a></div></li>
</ul>
</div></div>
<script type='text/javascript' charset='utf-8'>
<!--//--><![CDATA[//><!--
var indexmenu_210508731362b5bfff94bfb = new dTree('indexmenu_210508731362b5bfff94bfb','was.png');
indexmenu_210508731362b5bfff94bfb.config.urlbase='http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/';
indexmenu_210508731362b5bfff94bfb.config.sepchar='/';
indexmenu_210508731362b5bfff94bfb.config.toc=false;
indexmenu_210508731362b5bfff94bfb.config.scorespace=true;
indexmenu_210508731362b5bfff94bfb.add('opensim/project_alexandria',0,-1,"project_alexandria",'opensim/project_alexandria');
indexmenu_210508731362b5bfff94bfb.add('opensim/project_alexandria/oracle',1,0,"oracle",0,0,0);
indexmenu_210508731362b5bfff94bfb.add('opensim/project_alexandria/search',2,0,"search",0,0,0);
indexmenu_210508731362b5bfff94bfb.add('opensim/project_alexandria/sync',3,0,"sync",0,0,0);
document.write(indexmenu_210508731362b5bfff94bfb);
jQuery(function(){indexmenu_210508731362b5bfff94bfb.init(1,0,"",1,0);});
//--><!]]>
</script>

</div>

                    <!-- wikipage stop -->
                                    </div>

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <div class="docInfo"><bdi>opensim/project_alexandria.txt</bdi> · Last modified: 2022/04/19 09:28 (external edit)</div>

            <!-- PAGE ACTIONS -->
            <!-- <div id="dokuwiki__pagetools">
                <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria?do=revisions"  class="action revs" accesskey="o" rel="nofollow" title="Revisions [O]"><span>Revisions</span></a></li><li><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria?do=backlink"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria?do=export_pdf"  class="action export_pdf" rel="nofollow" title="Export to PDF"><span>Export to PDF</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li>                    </ul>
                </div>
            </div>
        </div>--><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer">
    <!-- <div class="buttons">
                <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://www.php.net" title="Powered by PHP" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/tpl/was/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div> -->

		<!-- BREADCRUMBS -->
					<div class="breadcrumbs">
									<div class="youarehere"><span class="bchead">You are here: </span><span class="home"><bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" class="wikilink1" title="start" data-wiki-id="start">start</a></bdi></span> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim" class="wikilink1" title="opensim" data-wiki-id="opensim">opensim</a></bdi> / <bdi><a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria" class="wikilink1" title="opensim:project_alexandria" data-wiki-id="opensim:project_alexandria">project_alexandria</a></bdi></div>
											</div>
		
		<!-- ********** BOTTOM BAR ********** -->
		<div class="bar" id="bar__bottom">
		  <div class="bar-left" id="bar__bottomleft">
			<form class="button btn_login" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="" /><button type="submit" title="Log In">Log In</button></div></form>						<form class="button btn_revs" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"><div class="no"><input type="hidden" name="do" value="revisions" /><button type="submit" accesskey="o" title="Revisions [O]">Revisions</button></div></form>			                        <form class="button btn_pdf" action="?do=export_pdf" method="POST">
                            <button type="submit" title="PDF">PDF</button>
                        </form>
		  </div>
		  <div class="bar-center">
                        <form class="button btn_home" action="/" method="POST">
                            <button type="submit" title="Home">Home</button>
                        </form>
			<form action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/start" method="get" role="search" class="search doku_form" id="dw__search" accept-charset="utf-8"><input type="hidden" name="do" value="search" /><input type="hidden" name="id" value="opensim:project_alexandria" /><div class="no"><input name="q" type="text" class="edit" title="[F]" accesskey="f" placeholder="Search" autocomplete="on" id="qsearch__in" value="" /><button value="1" type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>			<!-- <form id="osssearchform" method="get" action="renderer">
        <input type="hidden" name="use" value="grimore.org">
        <input type="hidden" name="name" value="default">
        <input type="text" id="osssearchbox" name="query">
        <input type="hidden" name="login" value="search">
        <input type="hidden" name="key" value="1a5f74ab3f4df6ce883c4c158540e25e">
        <input type="submit" value="Search">
</form>
 -->
		  </div>
		  <div class="bar-right" id="bar__bottomright">
                        <form class="button btn_contact" action="mailto:%6F%66%66%69%63%65%40%67%72%69%6D%6F%72%65%2E%6F%72%67" method="POST">
                            <button type="submit" title="Contact">Contact</button>
                        </form>
                        <form class="button btn_news" action="/feed.php?mode=recent&amp;type=rss" method="POST">
                            <button type="submit" title="News">News</button>
                        </form>
			<form class="button btn_admin" method="get" action="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/opensim/project_alexandria"><div class="no"><input type="hidden" name="do" value="admin" /><button type="submit" title="Admin">Admin</button></div></form>								  </div>
		  		</div>

		
</div><!-- /footer -->

<div style="text-align: center;">
    <div style="display:inline-block;">
      <p>
        <a href="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion">
          <img src="/lib/tpl/was/images/button-tor.png" alt="Access website using Tor" />
        </a> 
        <a href="http://ioujrf2uwqairs7l3vyvqp7n2pia3x3wg5w5qtcqvg32zezuezza.b32.i2p/" />
          <img src="/lib/tpl/was/images/button-i2p.png" alt="Access website using i2p" />
        </a>
        <a href="http://pgp.grimore.org/" />
          <img src="/lib/tpl/was/images/button-pgp.png" alt="Wizardry and Steamworks PGP Key" />
        </a>
      </p>
    </div>
<!--    <div style="display:inline-block;">
      <p>
        <a href="http://ij4lpzuyyng6cc4jw5mxibcyjv4rx4uk6x5jijoduglkgjh7mmya.b32.i2p">
          <img src="/lib/tpl/was/images/button-i2p.png" alt="Access website using i2p" />
        </a> 
      </p>
    </div>
    <div style="display:inline-block;">
      <p>
        <a href="http://cydia.grimore.org/">
          <img src="/lib/tpl/was/images/button-cydia.png" alt="Wizardry and Steamworks Cydia Repository" />
        </a> 
      </p>
    </div>
    <div style="display:inline-block;">
      <p>
        <a href="http://debian.grimore.org/">
          <img src="/lib/tpl/was/images/button-debian.png" alt="Wizardry and Steamworks Debian Repository" />
        </a> 
      </p>
    </div>
    <div style="display:inline-block;">
      <p>
        <a href="/opt/pasteboard/" rel="external nofollow">
          <img src="/lib/tpl/was/images/button-live.png" alt="Live Pasteboard" />
        </a> 
      </p>
    </div> -->
    
<br/>

    <p>
      For the copyright, license, warranty and privacy terms for the usage of this website please see the <a
      href="/wiki:license">license</a>, <a href="/wiki:privacy">privacy</a>, <a
      href="/wiki:copyright">copyright</a>
      and the <a href="/wiki:plagiarism">plagiarism</a> pages.
    </p>
</div>
    </div></div><!-- /site -->

    <div class="no"><img src="http://3wymlmcsvxiaqzmbepsdawqpk6o2qsk65jhms72qqjulk5u4bgmvs3qd.onion/lib/exe/taskrunner.php?id=opensim%3Aproject_alexandria&amp;1657308194" width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div>    <!--[if lte IE 8 ]></div><![endif]-->
</body>
</html>
